{"version":3,"sources":["components/profile/MyPosts/myPosts.module.css","components/common/formControls/formsControls.js","redux/messagesReducer.js","utils/objectHelpers.js","redux/usersReducer.js","components/profile/profile.module.css","components/profile/ProfileWall/wallpapers/wallpaper.module.css","assets/images/wall.jpg","components/common/preloader/preloader.module.css","assets/images/load.png","api/api.js","assets/images/gas.png","components/profile/ProfileWall/userProfiles/userProfile.module.css","components/sidebar/sidebar.jsx","components/profile/ProfileWall/wallpapers/wallpaper.jsx","components/profile/ProfileWall/userProfiles/profileStatusWithHooks.jsx","components/profile/ProfileWall/userProfiles/profileDataForm.jsx","components/profile/ProfileWall/userProfiles/userProfile.jsx","components/profile/ProfileWall/wall.jsx","components/profile/MyPosts/Posts/post.jsx","redux/profileReducer.js","components/profile/MyPosts/CreatePost/createPost.jsx","components/profile/MyPosts/CreatePost/createPostContainer.jsx","components/profile/MyPosts/myPosts.jsx","components/profile/MyPosts/myPostsContainer.jsx","components/profile/profile.jsx","components/profile/profileContainer.jsx","components/header/header.jsx","redux/authReducer.js","components/header/headerContainer.jsx","components/login/login.jsx","components/news/news.jsx","components/news/newsContainer.jsx","components/music/music.jsx","components/music/musicContainer.jsx","components/settings/settings.jsx","components/settings/settingsContainer.jsx","redux/appReducer.js","redux/sidebarReducer.js","redux/reduxStore.js","hoc/withSuspense.js","App.js","index.js","components/sidebar/sidebar.module.css","components/header/header.module.css","components/common/preloader/preloader.jsx","hoc/withAuthRedirect.js","utils/validators.js","components/common/formControls/formsControls.module.css","components/profile/MyPosts/Posts/post.module.css","assets/images/user.png","components/profile/MyPosts/CreatePost/createPost.module.css","components/login/login.module.css"],"names":["module","exports","Textarea","input","meta","props","hasError","touched","error","className","s","formControl","Input","createField","placeholder","name","validators","component","type","validate","initialState","messages","userId","message","dialogs","addMessageActionCreator","newMessageBody","messagesReducer","state","action","updateObjectInArray","items","itemId","objPropName","newObjectProps","map","u","FOLLOW","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleIsFollowingProgress","getUsersThunk","dispatch","a","UsersAPI","getUsers","response","count","totalCount","followUnfollowFlow","id","apiMethod","actionCreator","resultCode","follow","toFollow","bind","unfollow","toUnfollow","usersReducer","followed","filter","instance","axios","withCredentials","baseURL","headers","get","then","data","post","delete","ProfileAPI","getProfile","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","AuthAPI","me","logIn","email","password","rememberMe","logOut","Sidebar","sidebar","activeClassName","active","to","Wallpaper","wallpaper","src","alt","ProfileStatusWithHooks","useState","editMode","setEditMode","setStatus","useEffect","onDoubleClick","isOwner","onChange","e","currentTarget","value","autoFocus","onBlur","ProfileDataReduxForm","reduxForm","form","handleSubmit","onSubmit","socialsWrapper","Object","keys","contacts","key","formError","btn","Contact","contactTitle","contactValue","socials","href","ProfileData","goToEditMode","aboutMe","lookingForAJob","lookingForAJobDescription","onClick","UserProfile","photos","large","avatar","profileDescription","userName","fullName","initialValues","changePhotoDescription","target","files","length","Wall","Post","small","avaPost","postTxt","postUserName","user","likes","like","ADD_POST","posts","text","getUserProfile","profileReducer","newPostText","p","postId","maxLength30","maxLengthCreator","PostFormRedux","postForm","Field","postInput","required","postsBtn","CreatePost","values","addPost","CreatePostContainer","connect","profilePage","addPostActionCreator","MyPosts","React","memo","console","log","postsData","el","createPost","MyPostsContainer","Profile","content","ProfileContainer","this","match","params","authorizedUserId","history","push","refreshProfile","prevProps","prevState","snapshot","Component","compose","auth","isAuth","file","getState","stopSubmit","_error","Promise","reject","withRouter","Header","header","container","logoWrapper","logo","loginBlock","login","logout","setAuthUserData","payload","getAuthUserData","authReducer","HeaderContainer","LoginReduxForm","loginBtn","loginHeading","News","NewsContainer","withAuthRedirect","Music","MusicContainer","Settings","SettingsContainer","initialized","appReducer","sidebarReducer","reducers","combineReducers","messagesPage","usersPage","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","Suspense","fallback","MessagesContainer","lazy","UsersContainer","App","initializeApp","path","render","AppContainer","promise","all","AppWithRouter","ReactDOM","document","getElementById","Preloader","preloader","mapStateToPropsForRedirect","RedirectComponent","maxLength"],"mappings":"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","file":"static/js/main.77c02604.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"createPost\":\"myPosts_createPost__91IQi\",\"posts\":\"myPosts_posts__7U0Dl\"};","import React from \"react\";\r\nimport s from './formsControls.module.css'\r\nimport {Field} from \"redux-form\";\r\n\r\nexport const Textarea = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={s.formControl + \" \" + (hasError ? s.error:\"\")}>\r\n            <textarea {...input} {...props}/>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={s.formControl + \" \" + (hasError ? s.error:\"\")}>\r\n            <input {...input} {...props}/>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, type, props) => <Field\r\n    placeholder={placeholder}\r\n    name={name}\r\n    validate={validators}\r\n    component={component}\r\n    type = {type}\r\n    {...props}\r\n    />","const SEND_MESSAGE = 'messages/SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n    messages: [\r\n        {userId: 1, name: 'Andrew', message: 'Hellow! How are you?'},\r\n        {userId: 4, name: 'Roman', message: 'Hi! I\\'m fine!'}\r\n    ],\r\n    dialogs: [\r\n        {name: \"Andrey\", userId: \"001\"},\r\n        {name: \"Dmitry\", userId: \"002\"},\r\n        {name: \"Semion\", userId: \"003\"}\r\n    ]\r\n}\r\n\r\nconst messagesReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {userId: 4, name: 'Roman', message: action.newMessageBody}]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport const addMessageActionCreator = (newMessageBody) => {\r\n    return {\r\n        type: SEND_MESSAGE,\r\n        newMessageBody\r\n    }\r\n};\r\n\r\nexport default messagesReducer;","export const updateObjectInArray = (items, itemId, objPropName, newObjectProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjectProps}\r\n        }\r\n        return u;\r\n    })\r\n}","import {UsersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/objectHelpers\";\r\n\r\nconst FOLLOW = 'users/FOLLOW';\r\nconst UNFOLLOW = 'users/UNFOLLOW';\r\nconst SET_USERS = 'users/SET-USERS';\r\nconst SET_CURRENT_PAGE = 'users/SET-CURRENT-PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'users/SET-TOTAL-USERS-COUNT';\r\nconst TOGGLE_IS_FETCHING = 'users/TOGGLE-IS-FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'users/TOGGLE-IS-FOLLOWING-PROGRESS'\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n\r\n            };\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n\r\n            };\r\n        case SET_USERS:\r\n            return {...state, users: action.users}\r\n        case SET_CURRENT_PAGE:\r\n            return {...state, currentPage: action.currentPage}\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {...state, totalUsersCount: action.count}\r\n        case TOGGLE_IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching}\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : [...state.followingInProgress.filter(id => id !== action.userId)]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n//ACTION CREATORS\r\n\r\nexport const followSuccess = (userId) => {\r\n    return {type: FOLLOW, userId}\r\n};\r\nexport const unfollowSuccess = (userId) => {\r\n    return {type: UNFOLLOW, userId}\r\n};\r\nexport const setUsers = (users) => {\r\n    return {type: SET_USERS, users}\r\n};\r\nexport const setCurrentPage = (currentPage) => {\r\n    return {type: SET_CURRENT_PAGE, currentPage}\r\n};\r\nexport const setTotalUsersCount = (totalUsersCount) => {\r\n    return {type: SET_TOTAL_USERS_COUNT, count: totalUsersCount}\r\n};\r\nexport const toggleIsFetching = (isFetching) => {\r\n    return {type: TOGGLE_IS_FETCHING, isFetching}\r\n};\r\nexport const toggleIsFollowingProgress = (isFetching, userId) => {\r\n    return {type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId}\r\n};\r\n\r\n//THUNKS\r\n\r\nexport const getUsersThunk = (currentPage, pageSize) => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(currentPage));\r\n    let response = await UsersAPI.getUsers(currentPage, pageSize);\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUsers(response.items));\r\n    dispatch(setTotalUsersCount(response.totalCount));\r\n};\r\n\r\n//down refactored 2 thunks \"follow/unfollow\"\r\n\r\nconst followUnfollowFlow = async (dispatch, id, apiMethod, actionCreator) => {\r\n    dispatch(toggleIsFollowingProgress(true, id));\r\n    let response = await apiMethod(id);\r\n    if (response.resultCode === 0) {\r\n        dispatch(actionCreator(id))\r\n    }\r\n    dispatch(toggleIsFollowingProgress(false, id));\r\n}\r\n\r\nexport const follow = (id) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, id, UsersAPI.toFollow.bind(UsersAPI), followSuccess);\r\n};\r\nexport const unfollow = (id) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, id, UsersAPI.toUnfollow.bind(UsersAPI), unfollowSuccess);\r\n}\r\n\r\n\r\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"profile_content__2W5ba\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wallpaper\":\"wallpaper_wallpaper__3jir3\"};","module.exports = __webpack_public_path__ + \"static/media/wall.ced290a6.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"preloader_preloader__3ic0L\",\"spin\":\"preloader_spin__211T9\"};","module.exports = __webpack_public_path__ + \"static/media/load.9708d09f.png\";","import * as axios from \"axios\";\r\n\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials:true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\r\n        \"API-KEY\": \"f69e98fb-1ca8-4eca-b897-329babadd5a0\"\r\n    }\r\n});\r\n\r\nexport const UsersAPI = {\r\n    getUsers (currentPage, pageSize) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    toFollow (id) {\r\n        return instance.post(`follow/${id}`,{})\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    toUnfollow (id) {\r\n        return instance.delete(`follow/${id}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    }\r\n}\r\n\r\nexport const ProfileAPI = {\r\n    getProfile (id) {\r\n        return instance.get(`profile/${id}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    getStatus (userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateStatus (status) {\r\n        return instance.put(`profile/status`, {status: status})\r\n    },\r\n    savePhoto (photoFile) {\r\n        let formData = new FormData();\r\n        formData.append(\"image\", photoFile)\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {'Content-Type':'multipart/form-data'}\r\n        })\r\n    },\r\n    saveProfile (profile) {\r\n        return instance.put('profile', profile)\r\n    }\r\n}\r\n\r\nexport const AuthAPI = {\r\n    me () {\r\n        return instance.get(`auth/me`)\r\n            .then (response => {\r\n                return response.data\r\n            })\r\n    },\r\n    logIn (email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`,{email, password, rememberMe})\r\n            .then (response => {\r\n                return response.data\r\n            })\r\n    },\r\n    logOut () {\r\n        return instance.delete(`auth/login`)\r\n            .then (response => {\r\n                return response.data\r\n            })\r\n    }\r\n}","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"userProfile_avatar__3n553\",\"profile\":\"userProfile_profile__2kFYw\",\"userName\":\"userProfile_userName__1be9K\",\"profileDescription\":\"userProfile_profileDescription__FUeoG\",\"socialsWrapper\":\"userProfile_socialsWrapper__2ZL_W\",\"socials\":\"userProfile_socials__33Wet\",\"changePhotoDescription\":\"userProfile_changePhotoDescription__Z4pn7\",\"btn\":\"userProfile_btn__3wz6y\",\"formError\":\"userProfile_formError__25csG\"};","import React from \"react\";\r\nimport s from './sidebar.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Sidebar = () => {\r\n    return (\r\n        <div className={s.sidebar}>\r\n            <nav>\r\n                <NavLink activeClassName={s.active} to=\"/profile\">Profile</NavLink>\r\n                <NavLink activeClassName={s.active} to=\"/message\">Messages</NavLink>\r\n                <NavLink activeClassName={s.active} to=\"/users\">Find users</NavLink>\r\n                <NavLink activeClassName={s.active} to=\"/news\">News</NavLink>\r\n                <NavLink activeClassName={s.active} to=\"/music\">Music</NavLink>\r\n                <NavLink activeClassName={s.active} to=\"/settings\">Settings</NavLink>\r\n            </nav>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Sidebar;","import React from \"react\";\r\nimport s from './wallpaper.module.css'\r\nimport wallpaper from \"../../../../assets/images/wall.jpg\"\r\n\r\n\r\nconst Wallpaper = () => {\r\n    return (\r\n            <div className={s.wallpaper}>\r\n                <img src={wallpaper} alt=\"wall\"/>\r\n            </div>\r\n    );\r\n}\r\n\r\nexport default Wallpaper;","import React, {useEffect, useState} from \"react\";\r\n\r\n\r\nlet ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n    useEffect(()=>{\r\n        setStatus(props.status)\r\n    }, [props.status]);\r\n\r\n    const activateEditMode = () => {\r\n        if (props.isOwner)\r\n        setEditMode(true);\r\n    };\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    };\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {!editMode &&\r\n            <div>\r\n                <span onDoubleClick={activateEditMode}>{props.status || '--no_status--'}</span>\r\n            </div>\r\n            }\r\n            {editMode && props.isOwner &&\r\n            <input onChange={onStatusChange} autoFocus={true} onBlur={deactivateEditMode} value={status}/>\r\n            }\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React from \"react\";\r\nimport s from \"./userProfile.module.css\";\r\nimport {createField, Input, Textarea} from \"../../../common/formControls/formsControls\";\r\nimport {reduxForm} from \"redux-form\";\r\n\r\n\r\nconst ProfileDataForm = ({handleSubmit, profile, error}) => {\r\n    return <form onSubmit={handleSubmit}>\r\n        <p>Full Name: {createField(\"Full Name\", \"fullName\", [], Input, \"text\")}</p>\r\n        <p>About Me: {createField(\"About me\", \"aboutMe\", [], Input, \"text\")}</p>\r\n        <p>Contacts:</p>\r\n        <div className={s.socialsWrapper}>\r\n            {Object.keys(profile.contacts).map(key => {\r\n                    return <b key={key}>{key}:\r\n                        {createField(`Enter link to ${key}`, `contacts.${key}`, [], Input, \"text\")} </b>\r\n            })}\r\n        </div>\r\n        <p>Looking for a Job:\r\n            {createField(\"\", \"lookingForAJob\", [], Input, \"checkbox\")}</p>\r\n        <p>My professional skills :\r\n            {createField(\"Professional skills\",\r\n                \"lookingForAJobDescription\",\r\n                [], Textarea, \"textarea\")}</p>\r\n        {error && <div className={s.formError}>{error}</div>}\r\n        <button className={s.btn}>save</button>\r\n    </form>\r\n}\r\n\r\nlet ProfileDataReduxForm = reduxForm({form:'edit-profile'})(ProfileDataForm)\r\n\r\nexport default ProfileDataReduxForm","import React, {useState} from \"react\";\r\nimport s from './userProfile.module.css'\r\nimport avatar from \"../../../../assets/images/user.png\"\r\nimport Preloader from \"../../../common/preloader/preloader\";\r\nimport ProfileStatusWithHooks from \"./profileStatusWithHooks\";\r\nimport ProfileDataReduxForm from \"./profileDataForm\";\r\n\r\n\r\nconst UserProfile = ({profile, savePhoto, isOwner, status, updateStatus, saveProfile}) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n\r\n    const onMainPhotoSelected = (e) => {\r\n        if (e.target.files.length) {\r\n            savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n\r\n    const onSubmit = (formData) => {\r\n        saveProfile(formData).then(\r\n            ()=>{\r\n                setEditMode(false)\r\n            }\r\n        )\r\n    }\r\n\r\n    if (!profile) {\r\n        return (\r\n            <Preloader/>\r\n        )\r\n    } else {\r\n        return (\r\n            <>\r\n                <div className={s.profile}>\r\n                    <img src={profile.photos.large || avatar} alt=\"avatar\"\r\n                         className={s.avatar}/>\r\n                    <div className={s.profileDescription}>\r\n                        <h2 className={s.userName}>{profile.fullName}</h2>\r\n                        <ProfileStatusWithHooks isOwner={isOwner} status={status}\r\n                                                updateStatus={updateStatus}/>\r\n                        {editMode\r\n                            ? <ProfileDataReduxForm  initialValues={profile} profile={profile} onSubmit={onSubmit}/>\r\n                            : <ProfileData goToEditMode={()=>{setEditMode(true)}} profile={profile} isOwner={isOwner}/>}\r\n                    </div>\r\n                </div>\r\n                {isOwner && editMode &&\r\n                <div>\r\n                    <p className={s.changePhotoDescription}>Change your profile photo</p>\r\n                    <input type={\"file\"} onChange={onMainPhotoSelected}/>\r\n                </div>}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nconst Contact = ({contactTitle, contactValue}) => {\r\n    return (\r\n        <a className={s.socials} href={contactValue}>{contactTitle}</a>\r\n    )\r\n}\r\n\r\nconst ProfileData = ({profile, isOwner, goToEditMode}) => {\r\n    return <>\r\n        <p>AboutMe: {profile.aboutMe === null ? null : profile.aboutMe}</p>\r\n        <p>Contacts:</p>\r\n        <div className={s.socialsWrapper}>\r\n            {Object.keys(profile.contacts).map(key => {\r\n                if (profile.contacts[key] !== null)\r\n                    return <Contact key={key} contactTitle={key}\r\n                                    contactValue={profile.contacts[key]}/>\r\n            })}\r\n        </div>\r\n        <p>Looking for a Job: {profile.lookingForAJob ? \"Yes\" : 'No'}</p>\r\n        {profile.lookingForAJob &&\r\n        <p>My professional skills : {profile.lookingForAJobDescription}</p>}\r\n        {isOwner && <button className={s.btn} onClick={goToEditMode}>Edit profile</button>}\r\n    </>\r\n}\r\n\r\nexport default UserProfile;","import React from \"react\";\r\nimport Wallpaper from \"./wallpapers/wallpaper.jsx\";\r\nimport UserProfile from \"./userProfiles/userProfile.jsx\";\r\n\r\n\r\nconst Wall = (props) => {\r\n    return (\r\n        <div>\r\n            <Wallpaper />\r\n            <UserProfile savePhoto={props.savePhoto}\r\n                         saveProfile={props.saveProfile}\r\n                         isOwner={props.isOwner}\r\n                         profile={props.profile}\r\n                         status={props.status}\r\n                         updateStatus={props.updateStatus}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Wall;","import React from \"react\";\r\nimport s from './post.module.css'\r\nimport avaPost from \"../../../../assets/images/user.png\"\r\n\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={s.post}>\r\n            <img src={props.profile===null?\"\":props.profile.photos.small===null?avaPost:props.profile.photos.small} alt=\"avaPost\"/>\r\n            <div className={s.postTxt}>\r\n                <p className={s.postUserName}>{props.profile===null?props.user:props.profile.fullName}</p>\r\n                <p>{props.message}</p>\r\n                <span className={s.likes}>{props.like} likes</span>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Post;","import {ProfileAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'profile/ADD-POST';\r\nconst SET_USER_PAGE = 'profile/SET-USER-PAGE';\r\nconst SET_STATUS = 'profile/SET-STATUS';\r\nconst DELETE_POST = 'profile/DELETE-POST'\r\nconst SAVE_PHOTO_SUCCESS = 'profile/SAVE-PHOTO-SUCCESS'\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, user: 'Strelnykov Roman', message: 'Hello World! I can use props!', like: 15},\r\n        {id: 2, user: 'Strelnykov Roman', message: 'It\\'s my first post in this wall', like: 23}\r\n    ],\r\n    text: \"\",\r\n    profile: null,\r\n    status: null\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, {id: 5, user: 'Strelnykov Roman', message: action.newPostText, like: 0}],\r\n                text: ''\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id !== action.postId)\r\n            }\r\n        case SET_USER_PAGE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n//ACTION CREATORS\r\n\r\nexport const addPostActionCreator = (newPostText) => {\r\n    return {\r\n        type: ADD_POST,\r\n        newPostText\r\n    }\r\n};\r\nexport const deletePost = (postId) => {\r\n    return {\r\n        type: DELETE_POST,\r\n        postId\r\n    }\r\n};\r\n\r\nexport const setUserProfile = (profile) => {\r\n    return {\r\n        type: SET_USER_PAGE,\r\n        profile\r\n    }\r\n};\r\n\r\nexport const setStatus = (status) => {\r\n    return {\r\n        type: SET_STATUS,\r\n        status\r\n    }\r\n};\r\n\r\nexport const savePhotoSuccess = (photos) => {\r\n    return {\r\n        type: SAVE_PHOTO_SUCCESS,\r\n        photos\r\n    }\r\n};\r\n\r\n//THUNKS\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await ProfileAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response))\r\n};\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await ProfileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data))\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await ProfileAPI.updateStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status))\r\n    }\r\n};\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await ProfileAPI.savePhoto(file);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n    }\r\n}\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    let response = await ProfileAPI.saveProfile(profile);\r\n    debugger;\r\n    if (response.data.resultCode === 0) {\r\n       dispatch(getUserProfile(userId));\r\n    } else {\r\n        dispatch (stopSubmit(\"edit-profile\", {_error: response.data.messages[0]})) //error to redux-form\r\n        return Promise.reject(response.data.messages[0]);\r\n    }\r\n}\r\n\r\nexport default profileReducer;","import React from \"react\";\r\nimport s from './createPost.module.css';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../../utils/validators\";\r\nimport {Textarea} from \"../../../common/formControls/formsControls\";\r\n\r\n\r\nconst maxLength30 = maxLengthCreator(30);\r\nconst CreatePost = (props) => {\r\n    let addNewPost= (values) => {\r\n        props.addPost(values.newPostText);\r\n    };\r\n\r\n    return (\r\n        <PostFormRedux onSubmit={addNewPost}/>\r\n    );\r\n}\r\n\r\nconst PostForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={s.postForm}>\r\n            <Field className={s.postInput} component={Textarea} name={\"newPostText\"} placeholder={\"your news...\"} validate={[required, maxLength30]}/>\r\n            <Field className={s.postsBtn} component={\"button\"} name={\"sendPost\"}>Submit</Field>\r\n        </form>\r\n    );\r\n}\r\nconst PostFormRedux = reduxForm({form:\"postForm\"})(PostForm);\r\n\r\nexport default CreatePost;","import React from \"react\";\r\nimport {addPostActionCreator} from \"../../../../redux/profileReducer\";\r\nimport CreatePost from \"./createPost.jsx\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        newPostText: state.profilePage.text\r\n    }\r\n};\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPostText)=>{\r\n            let action = addPostActionCreator(newPostText);\r\n            dispatch(action);\r\n        }\r\n    }\r\n};\r\nconst CreatePostContainer = connect(mapStateToProps,mapDispatchToProps)(CreatePost);\r\n\r\nexport default CreatePostContainer;","import React from \"react\";\r\nimport s from './myPosts.module.css';\r\nimport Post from \"./Posts/post.jsx\";\r\nimport CreatePostContainer from \"./CreatePost/createPostContainer.jsx\";\r\n\r\nconst MyPosts = React.memo(props => {\r\n    console.log('render')\r\n    let postsData = props.posts.map(\r\n        (el) => <Post key={el.id} user={el.user} message={el.message} like={el.like} profile={props.profile}/>)\r\n    return (\r\n        <div>\r\n            <div className={s.createPost}>\r\n                <h3>My posts</h3>\r\n                <CreatePostContainer/>\r\n            </div>\r\n            <div className={s.posts}>\r\n                {postsData}\r\n            </div>\r\n        </div>\r\n    );\r\n})\r\n\r\nexport default MyPosts;","import React from \"react\";\r\nimport MyPosts from \"./myPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        profile: state.profilePage.profile\r\n    }\r\n};\r\nconst MyPostsContainer = connect(mapStateToProps)(MyPosts );\r\n\r\nexport default MyPostsContainer;","import React from \"react\";\r\nimport s from './profile.module.css'\r\nimport Wall from \"./ProfileWall/wall.jsx\";\r\nimport MyPostsContainer from \"./MyPosts/myPostsContainer.jsx\";\r\n\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n        <div className={s.content}>\r\n            <Wall saveProfile={props.saveProfile}\r\n                savePhoto={props.savePhoto}\r\n                  isOwner={props.isOwner}\r\n                  profile={props.profile}\r\n                  status={props.status}\r\n                  updateStatus={props.updateStatus}/>\r\n            <MyPostsContainer/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport Profile from \"./profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUserProfile, savePhoto, saveProfile, updateStatus} from \"../../redux/profileReducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    refreshProfile() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId;\r\n            if (!userId) {\r\n                this.props.history.push(\"/login\")\r\n            }\r\n        }\r\n        this.props.getUserProfile(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n            this.refreshProfile()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return <Profile {...this.props}\r\n                        savePhoto={this.props.savePhoto}\r\n                        saveProfile={this.props.saveProfile}\r\n                        isOwner={!this.props.match.params.userId}\r\n                        profile={this.props.profile}\r\n                        status={this.props.status}\r\n                        updateStatus={this.props.updateStatus}\r\n        />\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus, savePhoto, saveProfile}),\r\n    withRouter,\r\n    // withAuthRedirect,\r\n)(ProfileContainer)\r\n","import React from \"react\";\r\nimport s from \"./header.module.css\"\r\nimport logo from \"../../assets/images/gas.png\"\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <div className={s.container}>\r\n                <div className={s.logoWrapper}>\r\n                    <img className={s.logo} src={logo} alt=\"logo\"/>\r\n                    <h2>Social Network</h2>\r\n                </div>\r\n                <div className={s.loginBlock}>\r\n                    {props.isAuth\r\n                        ? <div>{props.login} - <p className={s.logout} onClick={props.logout}>Log Out</p></div>\r\n                        : <NavLink to={'/login'}>Login</NavLink>}\r\n                </div>\r\n            </div>\r\n        </header>);\r\n}\r\n\r\nexport default Header;","import {AuthAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'auth/SET-USER-DATA';\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n//ACTION CREATORS\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId, email, login, isAuth}\r\n});\r\n\r\n//THUNKS\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await AuthAPI.me();\r\n    if (response.resultCode === 0) {\r\n        let {id, email, login} = response.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n};\r\n\r\nexport const logIn = (email, password, rememberMe) => async (dispatch) => {\r\n    let response = await AuthAPI.logIn(email, password, rememberMe);\r\n    if (response.resultCode === 0) {\r\n        dispatch(getAuthUserData());\r\n    } else {\r\n        let message = response.messages.length > 0 ? response.messages[0] : \"Some error\";\r\n        dispatch(stopSubmit(\"login\", {_error: message}))\r\n    }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await AuthAPI.logOut();\r\n    if (response.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\n\r\n\r\nexport default authReducer;","import React from \"react\";\r\nimport Header from \"./header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/authReducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n})\r\n\r\nexport default connect(mapStateToProps,{logout})(HeaderContainer);","import React from \"react\";\r\nimport s from './login.module.css'\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../common/formControls/formsControls\";\r\nimport {required} from \"../../utils/validators\";\r\nimport {logIn} from \"../../redux/authReducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField(\"E-mail\", \"email\", [required], Input, \"text\")}\r\n            {createField(\"password\", \"password\", [required], Input, \"password\")}\r\n            <div>\r\n                <Field type={\"checkbox\"} name={\"rememberMe\"} component={\"input\"}/> Remember me\r\n            </div>\r\n            {error && <div className={s.formError}>{error}</div>}\r\n            <div>\r\n                <Field className={s.loginBtn} type={\"submit\"} component={\"button\"}>Login</Field>\r\n            </div>\r\n        </form>\r\n    );\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.logIn(formData.email, formData.password, formData.rememberMe);\r\n    };\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"}/>\r\n    } else {\r\n        return (\r\n            <div>\r\n                <h1 className={s.loginHeading}>Login</h1>\r\n                <LoginReduxForm onSubmit={onSubmit}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {logIn})(Login);","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst News = (props) => {\r\n    if (!props.isAuth) return <Redirect to={'/login'}/>\r\n    return (\r\n        <div>news</div>\r\n    );\r\n}\r\n\r\nexport default News;","import {connect} from \"react-redux\";\r\nimport News from \"./news\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nconst NewsContainer = compose(\r\n    connect(),\r\n    withAuthRedirect\r\n)(News)\r\n\r\nexport default NewsContainer;","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst Music = (props) => {\r\n    if (!props.isAuth) return <Redirect to={'/login'}/>\r\n    return (\r\n        <div>music</div>\r\n    );\r\n}\r\n\r\nexport default Music;","import {connect} from \"react-redux\";\r\nimport Music from \"./music\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\n\r\nconst MusicContainer = compose(\r\n    connect(),\r\n    withAuthRedirect,\r\n)(Music)\r\n\r\nexport default MusicContainer;","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst Settings = (props) => {\r\n    if (!props.isAuth) return <Redirect to={'/login'}/>\r\n    return (\r\n        <div>settings</div>\r\n    );\r\n}\r\n\r\nexport default Settings;","import {connect} from \"react-redux\";\r\nimport Settings from \"./settings\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nconst SettingsContainer = compose(\r\n    connect(),\r\n    withAuthRedirect\r\n)(Settings);\r\n\r\nexport default SettingsContainer;","import {AuthAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {getAuthUserData} from \"./authReducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'app/INITIALIZED-SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n//ACTION CREATORS\r\n\r\nexport const InitializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\n//THUNKS\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n        .then(()=>{\r\n        dispatch(InitializedSuccess())\r\n    })\r\n}\r\n\r\nexport default appReducer;","let initialState = {\r\n    sidebar: {}\r\n}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n    return state;\r\n};\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport sidebarReducer from \"./sidebarReducer\";\r\nimport messagesReducer from \"./messagesReducer\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from \"redux-form\"\r\nimport appReducer from \"./appReducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage:profileReducer,\r\n    messagesPage:messagesReducer,\r\n    usersPage:usersReducer,\r\n    sidebar:sidebarReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n});\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)))\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\nwindow.store = store;\r\nexport default store;","import React from \"react\";\r\nimport Preloader from \"../components/common/preloader/preloader\";\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n       return <React.Suspense fallback={<Preloader/>}>\r\n            <Component {...props}/>\r\n        </React.Suspense>\r\n    };\r\n}\r\n\r\n","import React from 'react';\r\nimport './App.css';\r\nimport Sidebar from \"./components/sidebar/sidebar.jsx\";\r\nimport {HashRouter, Route} from \"react-router-dom\";\r\nimport {withRouter} from \"react-router-dom\";\r\n// import UsersContainer from \"./components/users/usersContainer.jsx\";\r\nimport ProfileContainer from \"./components/profile/profileContainer\";\r\nimport HeaderContainer from \"./components/header/headerContainer\";\r\nimport Login from \"./components/login/login\";\r\nimport NewsContainer from \"./components/news/newsContainer\";\r\nimport MusicContainer from \"./components/music/musicContainer\";\r\nimport SettingsContainer from \"./components/settings/settingsContainer\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport Preloader from \"./components/common/preloader/preloader\";\r\nimport {initializeApp} from \"./redux/appReducer\";\r\nimport store from \"./redux/reduxStore\";\r\nimport {withSuspense} from \"./hoc/withSuspense\";\r\n\r\nlet MessagesContainer = React.lazy(() => import (`./components/messages/messagesContainer`));\r\nlet UsersContainer = React.lazy(() => import (`./components/users/usersContainer.jsx`));\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.initializeApp()\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n        return (\r\n            <div className=\"AppWrapper\">\r\n                <HeaderContainer/>\r\n                <div className=\"contentContainer\">\r\n                    <Sidebar/>\r\n                    <Route path=\"/profile/:userId?\" render={() => <ProfileContainer/>}/>\r\n                    <Route path=\"/message\" render={withSuspense(MessagesContainer)}/>\r\n                    <Route path=\"/users\" render={withSuspense(UsersContainer)}\r\n                    />\r\n                    <Route path=\"/news\" render={() => <NewsContainer/>}/>\r\n                    <Route path=\"/music\" render={() => <MusicContainer/>}/>\r\n                    <Route path=\"/settings\" render={() => <SettingsContainer/>}/>\r\n                    <Route path=\"/login\" render={() => <Login/>}/>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\nlet AppContainer = compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeApp})\r\n)(App);\r\n\r\nlet AppWithRouter = () => {\r\n    return (\r\n        <HashRouter>\r\n            <Provider store={store}>\r\n                <AppContainer/>\r\n            </Provider>\r\n        </HashRouter>\r\n    )\r\n}\r\n\r\nexport default AppWithRouter\r\n","import './index.css';\r\nimport React from \"react\";\r\nimport ReactDOM from 'react-dom';\r\nimport AppWithRouter from \"./App\";\r\n\r\n    ReactDOM.render(\r\n        <AppWithRouter/>\r\n        , document.getElementById('root'));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"sidebar_sidebar__2XZNk\",\"active\":\"sidebar_active__3BJxs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"header_container__2PM4k\",\"header\":\"header_header__WcNf1\",\"logoWrapper\":\"header_logoWrapper__2mAVX\",\"logo\":\"header_logo__2tvrJ\",\"logout\":\"header_logout__6nlQm\"};","import React from \"react\";\r\nimport s from './preloader.module.css';\r\nimport preloader from \"../../../assets/images/load.png\";\r\n\r\nconst Preloader = () => {\r\n    return <img className={s.preloader} src={preloader} alt=\"page is load\"/>\r\n}\r\n\r\nexport default Preloader","import {Redirect} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render () {\r\n            if (!this.props.isAuth) return <Redirect to={'/login'}/>\r\n            return <Component {...this.props} />\r\n        }\r\n    };\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n    return ConnectedAuthRedirectComponent;\r\n}\r\n\r\n\r\n\r\n","export const required = value => {\r\n    if (value) return undefined;\r\n    return \"Field is required\";\r\n};\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"formsControls_formControl__alq9U\",\"error\":\"formsControls_error__F5ysL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"post_post__2nDHj\",\"postTxt\":\"post_postTxt__1IUdh\",\"postUserName\":\"post_postUserName__3Bm5P\",\"likes\":\"post_likes__rSFrm\"};","module.exports = __webpack_public_path__ + \"static/media/user.d380cc81.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postForm\":\"createPost_postForm__CjxWP\",\"postInput\":\"createPost_postInput__31RwY\",\"postsBtn\":\"createPost_postsBtn__1NhNX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginHeading\":\"login_loginHeading__2QO6e\",\"loginBtn\":\"login_loginBtn__o0BkW\",\"formError\":\"login_formError__3G2Uw\"};"],"sourceRoot":""}