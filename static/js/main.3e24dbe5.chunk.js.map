{"version":3,"sources":["components/profile/MyPosts/myPosts.module.css","redux/messagesReducer.js","utils/objectHelpers.js","redux/usersReducer.js","components/profile/profile.module.css","components/profile/ProfileWall/wallpapers/wallpaper.module.css","assets/images/wall.jpg","components/common/preloader/preloader.module.css","assets/images/load.png","api/api.js","assets/images/gas.png","components/profile/ProfileWall/userProfiles/userProfile.module.css","components/common/formControls/formsControls.js","components/sidebar/sidebar.jsx","components/profile/ProfileWall/wallpapers/wallpaper.jsx","components/profile/ProfileWall/userProfiles/profileStatusWithHooks.jsx","components/profile/ProfileWall/userProfiles/profileDataForm.jsx","components/profile/ProfileWall/userProfiles/userProfile.jsx","components/profile/ProfileWall/wall.jsx","components/profile/MyPosts/Posts/post.jsx","redux/profileReducer.js","components/profile/MyPosts/CreatePost/createPost.jsx","components/profile/MyPosts/CreatePost/createPostContainer.jsx","components/profile/MyPosts/myPosts.jsx","components/profile/MyPosts/myPostsContainer.jsx","components/profile/profile.jsx","components/profile/profileContainer.jsx","components/header/header.jsx","redux/authReducer.js","components/header/headerContainer.jsx","components/login/login.jsx","components/news/news.jsx","components/news/newsContainer.jsx","components/music/music.jsx","components/music/musicContainer.jsx","components/settings/settings.jsx","components/settings/settingsContainer.jsx","redux/appReducer.js","redux/sidebarReducer.js","redux/reduxStore.js","hoc/withSuspense.js","App.js","index.js","components/sidebar/sidebar.module.css","components/header/header.module.css","components/common/preloader/preloader.jsx","hoc/withAuthRedirect.js","utils/validators.js","components/common/formControls/formsControls.module.css","components/profile/MyPosts/Posts/post.module.css","assets/images/user.png","components/profile/MyPosts/CreatePost/createPost.module.css","components/login/login.module.css"],"names":["module","exports","initialState","messages","userId","name","message","dialogs","addMessageActionCreator","newMessageBody","type","messagesReducer","state","action","updateObjectInArray","items","itemId","objPropName","newObjectProps","map","u","FOLLOW","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleIsFollowingProgress","getUsersThunk","dispatch","a","UsersAPI","getUsers","response","count","totalCount","followUnfollowFlow","id","apiMethod","actionCreator","resultCode","follow","toFollow","bind","unfollow","toUnfollow","usersReducer","followed","filter","instance","axios","withCredentials","baseURL","headers","get","then","data","post","delete","ProfileAPI","getProfile","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","AuthAPI","me","logIn","email","password","rememberMe","logOut","Textarea","input","meta","props","hasError","touched","error","className","s","formControl","Input","createField","placeholder","validators","component","validate","Sidebar","sidebar","activeClassName","active","to","Wallpaper","wallpaper","src","alt","ProfileStatusWithHooks","useState","editMode","setEditMode","setStatus","useEffect","onDoubleClick","isOwner","onChange","e","currentTarget","value","autoFocus","onBlur","ProfileDataReduxForm","reduxForm","form","profile","socialsWrapper","lookingForAJob","lookingForAJobDescription","btn","onClick","Contact","contactTitle","contactValue","socials","href","ProfileData","goToEditMode","aboutMe","Object","keys","contacts","key","UserProfile","photos","large","avatar","profileDescription","userName","fullName","changePhotoDescription","target","files","length","Wall","Post","small","avaPost","postTxt","postUserName","user","likes","like","ADD_POST","posts","text","profileReducer","newPostText","p","postId","maxLength30","maxLengthCreator","PostFormRedux","onSubmit","handleSubmit","postForm","Field","postInput","required","postsBtn","CreatePost","values","addPost","CreatePostContainer","connect","profilePage","addPostActionCreator","MyPosts","React","memo","console","log","postsData","el","createPost","MyPostsContainer","Profile","content","ProfileContainer","this","match","params","authorizedUserId","history","push","getUserProfile","refreshProfile","prevProps","prevState","snapshot","Component","compose","auth","isAuth","file","withRouter","Header","header","container","logoWrapper","logo","loginBlock","login","logout","setAuthUserData","payload","getAuthUserData","authReducer","HeaderContainer","LoginReduxForm","formError","loginBtn","stopSubmit","_error","loginHeading","News","NewsContainer","withAuthRedirect","Music","MusicContainer","Settings","SettingsContainer","initialized","appReducer","sidebarReducer","reducers","combineReducers","messagesPage","usersPage","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","Suspense","fallback","MessagesContainer","lazy","UsersContainer","App","initializeApp","path","render","AppContainer","promise","Promise","all","AppWithRouter","ReactDOM","document","getElementById","Preloader","preloader","mapStateToPropsForRedirect","RedirectComponent","maxLength"],"mappings":"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","file":"static/js/main.3e24dbe5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"createPost\":\"myPosts_createPost__1kwPe\",\"posts\":\"myPosts_posts__3nkyh\"};","const SEND_MESSAGE = 'messages/SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n    messages: [\r\n        {userId: 1, name: 'Andrew', message: 'Hellow! How are you?'},\r\n        {userId: 4, name: 'Roman', message: 'Hi! I\\'m fine!'}\r\n    ],\r\n    dialogs: [\r\n        {name: \"Andrey\", userId: \"001\"},\r\n        {name: \"Dmitry\", userId: \"002\"},\r\n        {name: \"Semion\", userId: \"003\"}\r\n    ]\r\n}\r\n\r\nconst messagesReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {userId: 4, name: 'Roman', message: action.newMessageBody}]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport const addMessageActionCreator = (newMessageBody) => {\r\n    return {\r\n        type: SEND_MESSAGE,\r\n        newMessageBody\r\n    }\r\n};\r\n\r\nexport default messagesReducer;","export const updateObjectInArray = (items, itemId, objPropName, newObjectProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjectProps}\r\n        }\r\n        return u;\r\n    })\r\n}","import {UsersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/objectHelpers\";\r\n\r\nconst FOLLOW = 'users/FOLLOW';\r\nconst UNFOLLOW = 'users/UNFOLLOW';\r\nconst SET_USERS = 'users/SET-USERS';\r\nconst SET_CURRENT_PAGE = 'users/SET-CURRENT-PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'users/SET-TOTAL-USERS-COUNT';\r\nconst TOGGLE_IS_FETCHING = 'users/TOGGLE-IS-FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'users/TOGGLE-IS-FOLLOWING-PROGRESS'\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n\r\n            };\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n\r\n            };\r\n        case SET_USERS:\r\n            return {...state, users: action.users}\r\n        case SET_CURRENT_PAGE:\r\n            return {...state, currentPage: action.currentPage}\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {...state, totalUsersCount: action.count}\r\n        case TOGGLE_IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching}\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : [...state.followingInProgress.filter(id => id !== action.userId)]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n//ACTION CREATORS\r\n\r\nexport const followSuccess = (userId) => {\r\n    return {type: FOLLOW, userId}\r\n};\r\nexport const unfollowSuccess = (userId) => {\r\n    return {type: UNFOLLOW, userId}\r\n};\r\nexport const setUsers = (users) => {\r\n    return {type: SET_USERS, users}\r\n};\r\nexport const setCurrentPage = (currentPage) => {\r\n    return {type: SET_CURRENT_PAGE, currentPage}\r\n};\r\nexport const setTotalUsersCount = (totalUsersCount) => {\r\n    return {type: SET_TOTAL_USERS_COUNT, count: totalUsersCount}\r\n};\r\nexport const toggleIsFetching = (isFetching) => {\r\n    return {type: TOGGLE_IS_FETCHING, isFetching}\r\n};\r\nexport const toggleIsFollowingProgress = (isFetching, userId) => {\r\n    return {type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId}\r\n};\r\n\r\n//THUNKS\r\n\r\nexport const getUsersThunk = (currentPage, pageSize) => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(currentPage));\r\n    let response = await UsersAPI.getUsers(currentPage, pageSize);\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUsers(response.items));\r\n    dispatch(setTotalUsersCount(response.totalCount));\r\n};\r\n\r\n//down refactored 2 thunks \"follow/unfollow\"\r\n\r\nconst followUnfollowFlow = async (dispatch, id, apiMethod, actionCreator) => {\r\n    dispatch(toggleIsFollowingProgress(true, id));\r\n    let response = await apiMethod(id);\r\n    if (response.resultCode === 0) {\r\n        dispatch(actionCreator(id))\r\n    }\r\n    dispatch(toggleIsFollowingProgress(false, id));\r\n}\r\n\r\nexport const follow = (id) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, id, UsersAPI.toFollow.bind(UsersAPI), followSuccess);\r\n};\r\nexport const unfollow = (id) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, id, UsersAPI.toUnfollow.bind(UsersAPI), unfollowSuccess);\r\n}\r\n\r\n\r\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"profile_content__2ogWM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wallpaper\":\"wallpaper_wallpaper__2E8nP\"};","module.exports = __webpack_public_path__ + \"static/media/wall.ced290a6.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"preloader_preloader__1ga4M\",\"spin\":\"preloader_spin__3QyLZ\"};","module.exports = __webpack_public_path__ + \"static/media/load.9708d09f.png\";","import * as axios from \"axios\";\r\n\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials:true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\r\n        \"API-KEY\": \"f69e98fb-1ca8-4eca-b897-329babadd5a0\"\r\n    }\r\n});\r\n\r\nexport const UsersAPI = {\r\n    getUsers (currentPage, pageSize) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    toFollow (id) {\r\n        return instance.post(`follow/${id}`,{})\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    toUnfollow (id) {\r\n        return instance.delete(`follow/${id}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    }\r\n}\r\n\r\nexport const ProfileAPI = {\r\n    getProfile (id) {\r\n        return instance.get(`profile/${id}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    getStatus (userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateStatus (status) {\r\n        return instance.put(`profile/status`, {status: status})\r\n    },\r\n    savePhoto (photoFile) {\r\n        let formData = new FormData();\r\n        formData.append(\"image\", photoFile)\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {'Content-Type':'multipart/form-data'}\r\n        })\r\n    }\r\n}\r\n\r\nexport const AuthAPI = {\r\n    me () {\r\n        return instance.get(`auth/me`)\r\n            .then (response => {\r\n                return response.data\r\n            })\r\n    },\r\n    logIn (email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`,{email, password, rememberMe})\r\n            .then (response => {\r\n                return response.data\r\n            })\r\n    },\r\n    logOut () {\r\n        return instance.delete(`auth/login`)\r\n            .then (response => {\r\n                return response.data\r\n            })\r\n    }\r\n}","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"userProfile_avatar__2QkVg\",\"profile\":\"userProfile_profile__CrDg_\",\"userName\":\"userProfile_userName__3AA81\",\"profileDescription\":\"userProfile_profileDescription__2AVmy\",\"socialsWrapper\":\"userProfile_socialsWrapper__1qIQT\",\"socials\":\"userProfile_socials__3K4Zh\",\"changePhotoDescription\":\"userProfile_changePhotoDescription__2pv4p\",\"btn\":\"userProfile_btn__2Vp-V\"};","import React from \"react\";\r\nimport s from './formsControls.module.css'\r\nimport {Field} from \"redux-form\";\r\n\r\nexport const Textarea = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={s.formControl + \" \" + (hasError ? s.error:\"\")}>\r\n            <textarea {...input} {...props}/>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={s.formControl + \" \" + (hasError ? s.error:\"\")}>\r\n            <input {...input} {...props}/>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, type, props) => <Field\r\n    placeholder={placeholder}\r\n    name={name}\r\n    validate={validators}\r\n    component={component}\r\n    type = {type}\r\n    {...props}\r\n    />","import React from \"react\";\r\nimport s from './sidebar.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Sidebar = () => {\r\n    return (\r\n        <div className={s.sidebar}>\r\n            <nav>\r\n                <NavLink activeClassName={s.active} to=\"/profile\">Profile</NavLink>\r\n                <NavLink activeClassName={s.active} to=\"/message\">Messages</NavLink>\r\n                <NavLink activeClassName={s.active} to=\"/users\">Find users</NavLink>\r\n                <NavLink activeClassName={s.active} to=\"/news\">News</NavLink>\r\n                <NavLink activeClassName={s.active} to=\"/music\">Music</NavLink>\r\n                <NavLink activeClassName={s.active} to=\"/settings\">Settings</NavLink>\r\n            </nav>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Sidebar;","import React from \"react\";\r\nimport s from './wallpaper.module.css'\r\nimport wallpaper from \"../../../../assets/images/wall.jpg\"\r\n\r\n\r\nconst Wallpaper = () => {\r\n    return (\r\n            <div className={s.wallpaper}>\r\n                <img src={wallpaper} alt=\"wall\"/>\r\n            </div>\r\n    );\r\n}\r\n\r\nexport default Wallpaper;","import React, {useEffect, useState} from \"react\";\r\n\r\n\r\nlet ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n    useEffect(()=>{\r\n        setStatus(props.status)\r\n    }, [props.status]);\r\n\r\n    const activateEditMode = () => {\r\n        if (props.isOwner)\r\n        setEditMode(true);\r\n    };\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    };\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {!editMode &&\r\n            <div>\r\n                <span onDoubleClick={activateEditMode}>{props.status || '--no_status--'}</span>\r\n            </div>\r\n            }\r\n            {editMode && props.isOwner &&\r\n            <input onChange={onStatusChange} autoFocus={true} onBlur={deactivateEditMode} value={status}/>\r\n            }\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React from \"react\";\r\nimport s from \"./userProfile.module.css\";\r\nimport {createField, Input} from \"../../../common/formControls/formsControls\";\r\nimport {reduxForm} from \"redux-form\";\r\n\r\n\r\nconst ProfileDataForm = ({profile}) => {\r\n    return <form>\r\n        <p>AboutMe: {createField(\"Full name\", \"fullName\", [], Input, \"text\")}</p>\r\n        <p>Contacts:</p>\r\n        <div className={s.socialsWrapper}>\r\n            {/*{Object.keys(profile.contacts).map(key => {*/}\r\n            {/*    if (profile.contacts[key] !== null)*/}\r\n            {/*        return <Contact key={key} contactTitle={key}*/}\r\n            {/*                        contactValue={profile.contacts[key]}/>*/}\r\n            {/*})}*/}\r\n        </div>\r\n        <p>Looking for a Job: {profile.lookingForAJob ? \"Yes\" : 'No'}</p>\r\n        {profile.lookingForAJob &&\r\n        <p>My professional skills : {profile.lookingForAJobDescription}</p>}\r\n        <button className={s.btn} onClick={()=>{}}>save</button>\r\n    </form>\r\n}\r\n\r\nlet ProfileDataReduxForm = reduxForm({form:'edit-profile'})(ProfileDataForm)\r\n\r\nexport default ProfileDataReduxForm","import React, {useState} from \"react\";\r\nimport s from './userProfile.module.css'\r\nimport avatar from \"../../../../assets/images/user.png\"\r\nimport Preloader from \"../../../common/preloader/preloader\";\r\nimport ProfileStatusWithHooks from \"./profileStatusWithHooks\";\r\nimport ProfileDataReduxForm from \"./profileDataForm\";\r\n\r\n\r\nconst UserProfile = ({profile, savePhoto, isOwner, status, updateStatus}) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n\r\n    const onMainPhotoSelected = (e) => {\r\n        if (e.target.files.length) {\r\n            savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n\r\n    if (!profile) {\r\n        return (\r\n            <Preloader/>\r\n        )\r\n    } else {\r\n        return (\r\n            <>\r\n                <div className={s.profile}>\r\n                    <img src={profile.photos.large || avatar} alt=\"avatar\"\r\n                         className={s.avatar}/>\r\n                    <div className={s.profileDescription}>\r\n                        <h2 className={s.userName}>{profile.fullName}</h2>\r\n                        <ProfileStatusWithHooks isOwner={isOwner} status={status}\r\n                                                updateStatus={updateStatus}/>\r\n                        {editMode\r\n                            ? <ProfileDataReduxForm profile={profile}/>\r\n                            : <ProfileData goToEditMode={()=>{setEditMode(true)}} profile={profile} isOwner={isOwner}/>}\r\n                    </div>\r\n                </div>\r\n                {isOwner &&\r\n                <div>\r\n                    <p className={s.changePhotoDescription}>Change your profile photo</p>\r\n                    <input type={\"file\"} onChange={onMainPhotoSelected}/>\r\n                </div>}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nconst Contact = ({contactTitle, contactValue}) => {\r\n    return (\r\n        <a className={s.socials} href={contactValue}>{contactTitle}</a>\r\n    )\r\n}\r\n\r\nconst ProfileData = ({profile, isOwner, goToEditMode}) => {\r\n    return <>\r\n        <p>AboutMe: {profile.aboutMe === null ? null : profile.aboutMe}</p>\r\n        <p>Contacts:</p>\r\n        <div className={s.socialsWrapper}>\r\n            {Object.keys(profile.contacts).map(key => {\r\n                if (profile.contacts[key] !== null)\r\n                    return <Contact key={key} contactTitle={key}\r\n                                    contactValue={profile.contacts[key]}/>\r\n            })}\r\n        </div>\r\n        <p>Looking for a Job: {profile.lookingForAJob ? \"Yes\" : 'No'}</p>\r\n        {profile.lookingForAJob &&\r\n        <p>My professional skills : {profile.lookingForAJobDescription}</p>}\r\n        {isOwner && <button className={s.btn} onClick={goToEditMode}>Edit profile</button>}\r\n    </>\r\n}\r\n\r\nexport default UserProfile;","import React from \"react\";\r\nimport Wallpaper from \"./wallpapers/wallpaper.jsx\";\r\nimport UserProfile from \"./userProfiles/userProfile.jsx\";\r\n\r\n\r\nconst Wall = (props) => {\r\n    return (\r\n        <div>\r\n            <Wallpaper />\r\n            <UserProfile savePhoto={props.savePhoto} isOwner={props.isOwner} profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Wall;","import React from \"react\";\r\nimport s from './post.module.css'\r\nimport avaPost from \"../../../../assets/images/user.png\"\r\n\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={s.post}>\r\n            <img src={props.profile===null?\"\":props.profile.photos.small===null?avaPost:props.profile.photos.small} alt=\"avaPost\"/>\r\n            <div className={s.postTxt}>\r\n                <p className={s.postUserName}>{props.profile===null?props.user:props.profile.fullName}</p>\r\n                <p>{props.message}</p>\r\n                <span className={s.likes}>{props.like} likes</span>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Post;","import {ProfileAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'profile/ADD-POST';\r\nconst SET_USER_PAGE = 'profile/SET-USER-PAGE';\r\nconst SET_STATUS = 'profile/SET-STATUS';\r\nconst DELETE_POST = 'profile/DELETE-POST'\r\nconst SAVE_PHOTO_SUCCESS = 'profile/SAVE-PHOTO-SUCCESS'\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, user: 'Strelnykov Roman', message: 'Hello World! I can use props!', like: 15},\r\n        {id: 2, user: 'Strelnykov Roman', message: 'It\\'s my first post in this wall', like: 23}\r\n    ],\r\n    text: \"\",\r\n    profile: null,\r\n    status: null\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, {id: 5, user: 'Strelnykov Roman', message: action.newPostText, like: 0}],\r\n                text: ''\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id !== action.postId)\r\n            }\r\n        case SET_USER_PAGE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n//ACTION CREATORS\r\n\r\nexport const addPostActionCreator = (newPostText) => {\r\n    return {\r\n        type: ADD_POST,\r\n        newPostText\r\n    }\r\n};\r\nexport const deletePost = (postId) => {\r\n    return {\r\n        type: DELETE_POST,\r\n        postId\r\n    }\r\n};\r\n\r\nexport const setUserProfile = (profile) => {\r\n    return {\r\n        type: SET_USER_PAGE,\r\n        profile\r\n    }\r\n};\r\n\r\nexport const setStatus = (status) => {\r\n    return {\r\n        type: SET_STATUS,\r\n        status\r\n    }\r\n};\r\n\r\nexport const savePhotoSuccess = (photos) => {\r\n    return {\r\n        type: SAVE_PHOTO_SUCCESS,\r\n        photos\r\n    }\r\n};\r\n\r\n//THUNKS\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await ProfileAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response))\r\n};\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await ProfileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data))\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await ProfileAPI.updateStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status))\r\n    }\r\n};\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await ProfileAPI.savePhoto(file);\r\n    if (response.data.resultCode === 0) {\r\n        debugger;\r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n    }\r\n}\r\n\r\nexport default profileReducer;","import React from \"react\";\r\nimport s from './createPost.module.css';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../../utils/validators\";\r\nimport {Textarea} from \"../../../common/formControls/formsControls\";\r\n\r\n\r\nconst maxLength30 = maxLengthCreator(30);\r\nconst CreatePost = (props) => {\r\n    let addNewPost= (values) => {\r\n        props.addPost(values.newPostText);\r\n    };\r\n\r\n    return (\r\n        <PostFormRedux onSubmit={addNewPost}/>\r\n    );\r\n}\r\n\r\nconst PostForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={s.postForm}>\r\n            <Field className={s.postInput} component={Textarea} name={\"newPostText\"} placeholder={\"your news...\"} validate={[required, maxLength30]}/>\r\n            <Field className={s.postsBtn} component={\"button\"} name={\"sendPost\"}>Submit</Field>\r\n        </form>\r\n    );\r\n}\r\nconst PostFormRedux = reduxForm({form:\"postForm\"})(PostForm);\r\n\r\nexport default CreatePost;","import React from \"react\";\r\nimport {addPostActionCreator} from \"../../../../redux/profileReducer\";\r\nimport CreatePost from \"./createPost.jsx\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        newPostText: state.profilePage.text\r\n    }\r\n};\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPostText)=>{\r\n            let action = addPostActionCreator(newPostText);\r\n            dispatch(action);\r\n        }\r\n    }\r\n};\r\nconst CreatePostContainer = connect(mapStateToProps,mapDispatchToProps)(CreatePost);\r\n\r\nexport default CreatePostContainer;","import React from \"react\";\r\nimport s from './myPosts.module.css';\r\nimport Post from \"./Posts/post.jsx\";\r\nimport CreatePostContainer from \"./CreatePost/createPostContainer.jsx\";\r\n\r\nconst MyPosts = React.memo(props => {\r\n    console.log('render')\r\n    let postsData = props.posts.map(\r\n        (el) => <Post key={el.id} user={el.user} message={el.message} like={el.like} profile={props.profile}/>)\r\n    return (\r\n        <div>\r\n            <div className={s.createPost}>\r\n                <h3>My posts</h3>\r\n                <CreatePostContainer/>\r\n            </div>\r\n            <div className={s.posts}>\r\n                {postsData}\r\n            </div>\r\n        </div>\r\n    );\r\n})\r\n\r\nexport default MyPosts;","import React from \"react\";\r\nimport MyPosts from \"./myPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        profile: state.profilePage.profile\r\n    }\r\n};\r\nconst MyPostsContainer = connect(mapStateToProps)(MyPosts );\r\n\r\nexport default MyPostsContainer;","import React from \"react\";\r\nimport s from './profile.module.css'\r\nimport Wall from \"./ProfileWall/wall.jsx\";\r\nimport MyPostsContainer from \"./MyPosts/myPostsContainer.jsx\";\r\n\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n        <div className={s.content}>\r\n            <Wall savePhoto={props.savePhoto} isOwner={props.isOwner} profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n            <MyPostsContainer/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport Profile from \"./profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUserProfile, savePhoto, updateStatus} from \"../../redux/profileReducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    refreshProfile() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId;\r\n            if (!userId) {\r\n                this.props.history.push(\"/login\")\r\n            }\r\n        }\r\n        this.props.getUserProfile(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n            this.refreshProfile()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return <Profile {...this.props}\r\n                        savePhoto={this.props.savePhoto}\r\n                        isOwner={!this.props.match.params.userId}\r\n                        profile={this.props.profile}\r\n                        status={this.props.status}\r\n                        updateStatus={this.props.updateStatus}\r\n        />\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus, savePhoto}),\r\n    withRouter,\r\n    // withAuthRedirect,\r\n)(ProfileContainer)\r\n","import React from \"react\";\r\nimport s from \"./header.module.css\"\r\nimport logo from \"../../assets/images/gas.png\"\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <div className={s.container}>\r\n                <div className={s.logoWrapper}>\r\n                    <img className={s.logo} src={logo} alt=\"logo\"/>\r\n                    <h2>Social Network</h2>\r\n                </div>\r\n                <div className={s.loginBlock}>\r\n                    {props.isAuth\r\n                        ? <div>{props.login} - <p className={s.logout} onClick={props.logout}>Log Out</p></div>\r\n                        : <NavLink to={'/login'}>Login</NavLink>}\r\n                </div>\r\n            </div>\r\n        </header>);\r\n}\r\n\r\nexport default Header;","import {AuthAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'auth/SET-USER-DATA';\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n//ACTION CREATORS\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId, email, login, isAuth}\r\n});\r\n\r\n//THUNKS\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await AuthAPI.me();\r\n    if (response.resultCode === 0) {\r\n        let {id, email, login} = response.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n};\r\n\r\nexport const logIn = (email, password, rememberMe) => async (dispatch) => {\r\n    let response = await AuthAPI.logIn(email, password, rememberMe);\r\n    if (response.resultCode === 0) {\r\n        dispatch(getAuthUserData());\r\n    } else {\r\n        let message = response.messages.length > 0 ? response.messages[0] : \"Some error\";\r\n        dispatch(stopSubmit(\"login\", {_error: message}))\r\n    }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await AuthAPI.logOut();\r\n    if (response.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\n\r\n\r\nexport default authReducer;","import React from \"react\";\r\nimport Header from \"./header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/authReducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n})\r\n\r\nexport default connect(mapStateToProps,{logout})(HeaderContainer);","import React from \"react\";\r\nimport s from './login.module.css'\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../common/formControls/formsControls\";\r\nimport {required} from \"../../utils/validators\";\r\nimport {logIn} from \"../../redux/authReducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField(\"E-mail\", \"email\", [required], Input, \"text\")}\r\n            {createField(\"password\", \"password\", [required], Input, \"password\")}\r\n            <div>\r\n                <Field type={\"checkbox\"} name={\"rememberMe\"} component={\"input\"}/> Remember me\r\n            </div>\r\n            {error && <div className={s.formError}>{error}</div>}\r\n            <div>\r\n                <Field className={s.loginBtn} type={\"submit\"} component={\"button\"}>Login</Field>\r\n            </div>\r\n        </form>\r\n    );\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.logIn(formData.email, formData.password, formData.rememberMe);\r\n    };\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"}/>\r\n    } else {\r\n        return (\r\n            <div>\r\n                <h1 className={s.loginHeading}>Login</h1>\r\n                <LoginReduxForm onSubmit={onSubmit}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {logIn})(Login);","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst News = (props) => {\r\n    if (!props.isAuth) return <Redirect to={'/login'}/>\r\n    return (\r\n        <div>news</div>\r\n    );\r\n}\r\n\r\nexport default News;","import {connect} from \"react-redux\";\r\nimport News from \"./news\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nconst NewsContainer = compose(\r\n    connect(),\r\n    withAuthRedirect\r\n)(News)\r\n\r\nexport default NewsContainer;","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst Music = (props) => {\r\n    if (!props.isAuth) return <Redirect to={'/login'}/>\r\n    return (\r\n        <div>music</div>\r\n    );\r\n}\r\n\r\nexport default Music;","import {connect} from \"react-redux\";\r\nimport Music from \"./music\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\n\r\nconst MusicContainer = compose(\r\n    connect(),\r\n    withAuthRedirect,\r\n)(Music)\r\n\r\nexport default MusicContainer;","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst Settings = (props) => {\r\n    if (!props.isAuth) return <Redirect to={'/login'}/>\r\n    return (\r\n        <div>settings</div>\r\n    );\r\n}\r\n\r\nexport default Settings;","import {connect} from \"react-redux\";\r\nimport Settings from \"./settings\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nconst SettingsContainer = compose(\r\n    connect(),\r\n    withAuthRedirect\r\n)(Settings);\r\n\r\nexport default SettingsContainer;","import {AuthAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {getAuthUserData} from \"./authReducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'app/INITIALIZED-SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n//ACTION CREATORS\r\n\r\nexport const InitializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\n//THUNKS\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n        .then(()=>{\r\n        dispatch(InitializedSuccess())\r\n    })\r\n}\r\n\r\nexport default appReducer;","let initialState = {\r\n    sidebar: {}\r\n}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n    return state;\r\n};\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport sidebarReducer from \"./sidebarReducer\";\r\nimport messagesReducer from \"./messagesReducer\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from \"redux-form\"\r\nimport appReducer from \"./appReducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage:profileReducer,\r\n    messagesPage:messagesReducer,\r\n    usersPage:usersReducer,\r\n    sidebar:sidebarReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n});\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)))\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\nwindow.store = store;\r\nexport default store;","import React from \"react\";\r\nimport Preloader from \"../components/common/preloader/preloader\";\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n       return <React.Suspense fallback={<Preloader/>}>\r\n            <Component {...props}/>\r\n        </React.Suspense>\r\n    };\r\n}\r\n\r\n","import React from 'react';\r\nimport './App.css';\r\nimport Sidebar from \"./components/sidebar/sidebar.jsx\";\r\nimport {HashRouter, Route} from \"react-router-dom\";\r\nimport {withRouter} from \"react-router-dom\";\r\n// import UsersContainer from \"./components/users/usersContainer.jsx\";\r\nimport ProfileContainer from \"./components/profile/profileContainer\";\r\nimport HeaderContainer from \"./components/header/headerContainer\";\r\nimport Login from \"./components/login/login\";\r\nimport NewsContainer from \"./components/news/newsContainer\";\r\nimport MusicContainer from \"./components/music/musicContainer\";\r\nimport SettingsContainer from \"./components/settings/settingsContainer\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport Preloader from \"./components/common/preloader/preloader\";\r\nimport {initializeApp} from \"./redux/appReducer\";\r\nimport store from \"./redux/reduxStore\";\r\nimport {withSuspense} from \"./hoc/withSuspense\";\r\n\r\nlet MessagesContainer = React.lazy(() => import (`./components/messages/messagesContainer`));\r\nlet UsersContainer = React.lazy(() => import (`./components/users/usersContainer.jsx`));\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.initializeApp()\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n        return (\r\n            <div className=\"AppWrapper\">\r\n                <HeaderContainer/>\r\n                <div className=\"contentContainer\">\r\n                    <Sidebar/>\r\n                    <Route path=\"/profile/:userId?\" render={() => <ProfileContainer/>}/>\r\n                    <Route path=\"/message\" render={withSuspense(MessagesContainer)}/>\r\n                    <Route path=\"/users\" render={withSuspense(UsersContainer)}\r\n                    />\r\n                    <Route path=\"/news\" render={() => <NewsContainer/>}/>\r\n                    <Route path=\"/music\" render={() => <MusicContainer/>}/>\r\n                    <Route path=\"/settings\" render={() => <SettingsContainer/>}/>\r\n                    <Route path=\"/login\" render={() => <Login/>}/>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\nlet AppContainer = compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeApp})\r\n)(App);\r\n\r\nlet AppWithRouter = () => {\r\n    return (\r\n        <HashRouter>\r\n            <Provider store={store}>\r\n                <AppContainer/>\r\n            </Provider>\r\n        </HashRouter>\r\n    )\r\n}\r\n\r\nexport default AppWithRouter\r\n","import './index.css';\r\nimport React from \"react\";\r\nimport ReactDOM from 'react-dom';\r\nimport AppWithRouter from \"./App\";\r\n\r\n    ReactDOM.render(\r\n        <AppWithRouter/>\r\n        , document.getElementById('root'));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"sidebar_sidebar__1VUPR\",\"active\":\"sidebar_active__jIGIC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"header_container__279eN\",\"header\":\"header_header__23zMb\",\"logoWrapper\":\"header_logoWrapper__1kqIp\",\"logo\":\"header_logo__26bCK\",\"logout\":\"header_logout__1uCY8\"};","import React from \"react\";\r\nimport s from './preloader.module.css';\r\nimport preloader from \"../../../assets/images/load.png\";\r\n\r\nconst Preloader = () => {\r\n    return <img className={s.preloader} src={preloader} alt=\"page is load\"/>\r\n}\r\n\r\nexport default Preloader","import {Redirect} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render () {\r\n            if (!this.props.isAuth) return <Redirect to={'/login'}/>\r\n            return <Component {...this.props} />\r\n        }\r\n    };\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n    return ConnectedAuthRedirectComponent;\r\n}\r\n\r\n\r\n\r\n","export const required = value => {\r\n    if (value) return undefined;\r\n    return \"Field is required\";\r\n};\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"formsControls_formControl__1-aIt\",\"error\":\"formsControls_error__2WhHx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"post_post__2W1_v\",\"postTxt\":\"post_postTxt__2uByK\",\"postUserName\":\"post_postUserName__3iU8E\",\"likes\":\"post_likes__2Sq01\"};","module.exports = __webpack_public_path__ + \"static/media/user.d380cc81.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postForm\":\"createPost_postForm__i4ota\",\"postInput\":\"createPost_postInput__1-xRQ\",\"postsBtn\":\"createPost_postsBtn__lS-92\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginHeading\":\"login_loginHeading__1ejQB\",\"loginBtn\":\"login_loginBtn__1UA2k\",\"formError\":\"login_formError__3SP6Q\"};"],"sourceRoot":""}