{"version":3,"sources":["components/profile/MyPosts/myPosts.module.css","components/common/formControls/formsControls.js","redux/messagesReducer.js","utils/objectHelpers.js","redux/usersReducer.js","components/profile/profile.module.css","components/profile/ProfileWall/wallpapers/wallpaper.module.css","assets/images/wall.jpg","components/common/preloader/preloader.module.css","assets/images/load.png","api/api.js","assets/images/gas.png","components/profile/ProfileWall/userProfiles/userProfile.module.css","serviceWorker.js","components/sidebar/sidebar.jsx","components/profile/ProfileWall/wallpapers/wallpaper.jsx","components/profile/ProfileWall/userProfiles/profileStatusWithHooks.jsx","components/profile/ProfileWall/userProfiles/profileDataForm.jsx","components/profile/ProfileWall/userProfiles/userProfile.jsx","components/profile/ProfileWall/wall.jsx","components/profile/MyPosts/Posts/post.jsx","redux/profileReducer.js","components/profile/MyPosts/CreatePost/createPost.jsx","components/profile/MyPosts/CreatePost/createPostContainer.jsx","components/profile/MyPosts/myPosts.jsx","components/profile/MyPosts/myPostsContainer.jsx","components/profile/profile.jsx","components/profile/profileContainer.jsx","components/header/header.jsx","redux/authReducer.js","components/header/headerContainer.jsx","components/login/login.jsx","components/news/news.jsx","components/news/newsContainer.jsx","components/music/music.jsx","components/music/musicContainer.jsx","components/settings/settings.jsx","components/settings/settingsContainer.jsx","redux/appReducer.js","redux/sidebarReducer.js","redux/reduxStore.js","hoc/withSuspense.js","App.js","index.js","components/sidebar/sidebar.module.css","utils/validators.js","components/header/header.module.css","components/common/preloader/preloader.jsx","hoc/withAuthRedirect.js","components/common/formControls/formsControls.module.css","components/profile/MyPosts/Posts/post.module.css","assets/images/user.png","components/profile/MyPosts/CreatePost/createPost.module.css","components/login/login.module.css"],"names":["module","exports","Textarea","input","meta","props","hasError","touched","error","className","s","formControl","Input","createField","placeholder","name","validators","component","type","validate","initialState","messages","id","userId","message","dialogs","addMessageActionCreator","newMessageBody","messagesReducer","state","action","updateObjectInArray","items","itemId","objPropName","newObjectProps","map","u","FOLLOW","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleIsFollowingProgress","getUsersThunk","dispatch","a","UsersAPI","getUsers","response","count","totalCount","followUnfollowFlow","apiMethod","actionCreator","resultCode","follow","toFollow","bind","unfollow","toUnfollow","usersReducer","followed","filter","instance","axios","withCredentials","baseURL","headers","get","then","data","post","delete","ProfileAPI","getProfile","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","AuthAPI","me","logIn","email","password","rememberMe","captcha","logOut","SecurityAPI","getCaptchaUrl","Boolean","window","location","hostname","match","Sidebar","sidebar","activeClassName","active","to","Wallpaper","wallpaper","src","alt","ProfileStatusWithHooks","useState","editMode","setEditMode","setStatus","useEffect","onDoubleClick","isOwner","onChange","e","currentTarget","value","autoFocus","onBlur","ProfileDataReduxForm","reduxForm","form","handleSubmit","onSubmit","socialsWrapper","Object","keys","contacts","key","formError","btn","Contact","contactTitle","contactValue","socials","href","ProfileData","goToEditMode","aboutMe","lookingForAJob","lookingForAJobDescription","onClick","UserProfile","photos","large","avatar","profileDescription","userName","fullName","initialValues","changePhotoDescription","target","files","length","Wall","Post","small","avaPost","postTxt","postUserName","user","likes","like","ADD_POST","posts","text","getUserProfile","profileReducer","newPostText","p","postId","maxLength30","maxLengthCreator","PostFormRedux","postForm","Field","postInput","required","postsBtn","CreatePost","values","addPost","CreatePostContainer","connect","profilePage","addPostActionCreator","MyPosts","React","memo","postsData","el","createPost","MyPostsContainer","Profile","content","ProfileContainer","this","params","authorizedUserId","history","push","refreshProfile","prevProps","prevState","snapshot","Component","compose","auth","isAuth","file","getState","stopSubmit","_error","Promise","reject","withRouter","Header","header","container","logoWrapper","logo","loginBlock","login","logout","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","url","authReducer","HeaderContainer","LoginReduxForm","loginBtn","loginHeading","News","NewsContainer","withAuthRedirect","Music","MusicContainer","Settings","SettingsContainer","initialized","appReducer","sidebarReducer","reducers","combineReducers","messagesPage","usersPage","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","Suspense","fallback","MessagesContainer","lazy","UsersContainer","App","catchAllUnhandledErrors","promiseRejectionEvent","alert","console","initializeApp","addEventListener","removeEventListener","path","render","AppContainer","promise","all","AppWithRouter","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","maxLength","Preloader","preloader","mapStateToPropsForRedirect","RedirectComponent"],"mappings":"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","file":"static/js/main.7edef2bd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"createPost\":\"myPosts_createPost__91IQi\",\"posts\":\"myPosts_posts__7U0Dl\"};","import React from \"react\";\r\nimport s from './formsControls.module.css'\r\nimport {Field} from \"redux-form\";\r\n\r\nexport const Textarea = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={s.formControl + \" \" + (hasError ? s.error:\"\")}>\r\n            <textarea {...input} {...props}/>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={s.formControl + \" \" + (hasError ? s.error:\"\")}>\r\n            <input {...input} {...props}/>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, type, props) => <Field\r\n    placeholder={placeholder}\r\n    name={name}\r\n    validate={validators}\r\n    component={component}\r\n    type = {type}\r\n    {...props}\r\n    />","const SEND_MESSAGE = 'messages/SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n    messages: [\r\n        {id:1, userId: 1, name: 'Andrew', message: 'Fake message'},\r\n        {id:2, userId: 4, name: 'Roman', message: 'You can try to post message on state'}\r\n    ],\r\n    dialogs: [\r\n        {name: \"Andrey\", userId: \"001\"},\r\n        {name: \"Dmitry\", userId: \"002\"},\r\n        {name: \"Semion\", userId: \"003\"},\r\n    ]\r\n}\r\n\r\nconst messagesReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id:3, userId: 4, name: 'Roman', message: action.newMessageBody}]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport const addMessageActionCreator = (newMessageBody) => {\r\n    return {\r\n        type: SEND_MESSAGE,\r\n        newMessageBody\r\n    }\r\n};\r\n\r\nexport default messagesReducer;","export const updateObjectInArray = (items, itemId, objPropName, newObjectProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjectProps}\r\n        }\r\n        return u;\r\n    })\r\n}","import {UsersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/objectHelpers\";\r\n\r\nconst FOLLOW = 'users/FOLLOW';\r\nconst UNFOLLOW = 'users/UNFOLLOW';\r\nconst SET_USERS = 'users/SET-USERS';\r\nconst SET_CURRENT_PAGE = 'users/SET-CURRENT-PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'users/SET-TOTAL-USERS-COUNT';\r\nconst TOGGLE_IS_FETCHING = 'users/TOGGLE-IS-FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'users/TOGGLE-IS-FOLLOWING-PROGRESS'\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n\r\n            };\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n\r\n            };\r\n        case SET_USERS:\r\n            return {...state, users: action.users}\r\n        case SET_CURRENT_PAGE:\r\n            return {...state, currentPage: action.currentPage}\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {...state, totalUsersCount: action.count}\r\n        case TOGGLE_IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching}\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : [...state.followingInProgress.filter(id => id !== action.userId)]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n//ACTION CREATORS\r\n\r\nexport const followSuccess = (userId) => {\r\n    return {type: FOLLOW, userId}\r\n};\r\nexport const unfollowSuccess = (userId) => {\r\n    return {type: UNFOLLOW, userId}\r\n};\r\nexport const setUsers = (users) => {\r\n    return {type: SET_USERS, users}\r\n};\r\nexport const setCurrentPage = (currentPage) => {\r\n    return {type: SET_CURRENT_PAGE, currentPage}\r\n};\r\nexport const setTotalUsersCount = (totalUsersCount) => {\r\n    return {type: SET_TOTAL_USERS_COUNT, count: totalUsersCount}\r\n};\r\nexport const toggleIsFetching = (isFetching) => {\r\n    return {type: TOGGLE_IS_FETCHING, isFetching}\r\n};\r\nexport const toggleIsFollowingProgress = (isFetching, userId) => {\r\n    return {type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId}\r\n};\r\n\r\n//THUNKS\r\n\r\nexport const getUsersThunk = (currentPage, pageSize) => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(currentPage));\r\n    let response = await UsersAPI.getUsers(currentPage, pageSize);\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUsers(response.items));\r\n    dispatch(setTotalUsersCount(response.totalCount));\r\n};\r\n\r\n//down refactored 2 thunks \"follow/unfollow\"\r\n\r\nconst followUnfollowFlow = async (dispatch, id, apiMethod, actionCreator) => {\r\n    dispatch(toggleIsFollowingProgress(true, id));\r\n    let response = await apiMethod(id);\r\n    if (response.resultCode === 0) {\r\n        dispatch(actionCreator(id))\r\n    }\r\n    dispatch(toggleIsFollowingProgress(false, id));\r\n}\r\n\r\nexport const follow = (id) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, id, UsersAPI.toFollow.bind(UsersAPI), followSuccess);\r\n};\r\nexport const unfollow = (id) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, id, UsersAPI.toUnfollow.bind(UsersAPI), unfollowSuccess);\r\n}\r\n\r\n\r\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"profile_content__2W5ba\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wallpaper\":\"wallpaper_wallpaper__3jir3\"};","module.exports = __webpack_public_path__ + \"static/media/wall.ced290a6.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"preloader_preloader__3ic0L\",\"spin\":\"preloader_spin__211T9\"};","module.exports = __webpack_public_path__ + \"static/media/load.9708d09f.png\";","import * as axios from \"axios\";\r\n\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials:true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\r\n        \"API-KEY\": \"f69e98fb-1ca8-4eca-b897-329babadd5a0\"\r\n    }\r\n});\r\n\r\nexport const UsersAPI = {\r\n    getUsers (currentPage, pageSize) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    toFollow (id) {\r\n        return instance.post(`follow/${id}`,{})\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    toUnfollow (id) {\r\n        return instance.delete(`follow/${id}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    }\r\n}\r\n\r\nexport const ProfileAPI = {\r\n    getProfile (id) {\r\n        return instance.get(`profile/${id}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    getStatus (userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateStatus (status) {\r\n        return instance.put(`profile/status`, {status: status})\r\n    },\r\n    savePhoto (photoFile) {\r\n        let formData = new FormData();\r\n        formData.append(\"image\", photoFile)\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {'Content-Type':'multipart/form-data'}\r\n        })\r\n    },\r\n    saveProfile (profile) {\r\n        return instance.put('profile', profile)\r\n    }\r\n}\r\n\r\nexport const AuthAPI = {\r\n    me () {\r\n        return instance.get(`auth/me`)\r\n            .then (response => {\r\n                return response.data\r\n            })\r\n    },\r\n    logIn (email, password, rememberMe = false, captcha = null) {\r\n        return instance.post(`auth/login`,{email, password, rememberMe, captcha})\r\n            .then (response => {\r\n                return response.data\r\n            })\r\n    },\r\n    logOut () {\r\n        return instance.delete(`auth/login`)\r\n            .then (response => {\r\n                return response.data\r\n            })\r\n    }\r\n}\r\n\r\nexport const SecurityAPI = {\r\n    getCaptchaUrl () {\r\n        return instance.get(`security/get-captcha-url`)\r\n    }\r\n}","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"userProfile_avatar__3n553\",\"profile\":\"userProfile_profile__2kFYw\",\"userName\":\"userProfile_userName__1be9K\",\"profileDescription\":\"userProfile_profileDescription__FUeoG\",\"socialsWrapper\":\"userProfile_socialsWrapper__2ZL_W\",\"socials\":\"userProfile_socials__33Wet\",\"changePhotoDescription\":\"userProfile_changePhotoDescription__Z4pn7\",\"btn\":\"userProfile_btn__3wz6y\",\"formError\":\"userProfile_formError__25csG\"};","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport s from './sidebar.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Sidebar = () => {\r\n    return (\r\n        <div className={s.sidebar}>\r\n            <nav>\r\n                <NavLink activeClassName={s.active} to=\"/profile\">Profile</NavLink>\r\n                <NavLink activeClassName={s.active} to=\"/message\">Messages</NavLink>\r\n                <NavLink activeClassName={s.active} to=\"/users\">Find users</NavLink>\r\n                <NavLink activeClassName={s.active} to=\"/news\">News</NavLink>\r\n                <NavLink activeClassName={s.active} to=\"/music\">Music</NavLink>\r\n                <NavLink activeClassName={s.active} to=\"/settings\">Settings</NavLink>\r\n            </nav>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Sidebar;","import React from \"react\";\r\nimport s from './wallpaper.module.css'\r\nimport wallpaper from \"../../../../assets/images/wall.jpg\"\r\n\r\n\r\nconst Wallpaper = () => {\r\n    return (\r\n            <div className={s.wallpaper}>\r\n                <img src={wallpaper} alt=\"wall\"/>\r\n            </div>\r\n    );\r\n}\r\n\r\nexport default Wallpaper;","import React, {useEffect, useState} from \"react\";\r\n\r\n\r\nlet ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n    useEffect(()=>{\r\n        setStatus(props.status)\r\n    }, [props.status]);\r\n\r\n    const activateEditMode = () => {\r\n        if (props.isOwner)\r\n        setEditMode(true);\r\n    };\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    };\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {!editMode &&\r\n            <div>\r\n                <span onDoubleClick={activateEditMode}>{props.status || '--no_status--'}</span>\r\n            </div>\r\n            }\r\n            {editMode && props.isOwner &&\r\n            <input onChange={onStatusChange} autoFocus={true} onBlur={deactivateEditMode} value={status}/>\r\n            }\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React from \"react\";\r\nimport s from \"./userProfile.module.css\";\r\nimport {createField, Input, Textarea} from \"../../../common/formControls/formsControls\";\r\nimport {reduxForm} from \"redux-form\";\r\n\r\n\r\nconst ProfileDataForm = ({handleSubmit, profile, error}) => {\r\n    return <form onSubmit={handleSubmit}>\r\n        <p>Full Name: {createField(\"Full Name\", \"fullName\", [], Input, \"text\")}</p>\r\n        <p>About Me: {createField(\"About me\", \"aboutMe\", [], Input, \"text\")}</p>\r\n        <p>Contacts:</p>\r\n        <div className={s.socialsWrapper}>\r\n            {Object.keys(profile.contacts).map(key => {\r\n                    return <b key={key}>{key}:\r\n                        {createField(`Enter link to ${key}`, `contacts.${key}`, [], Input, \"text\")} </b>\r\n            })}\r\n        </div>\r\n        <p>Looking for a Job:\r\n            {createField(\"\", \"lookingForAJob\", [], Input, \"checkbox\")}</p>\r\n        <p>My professional skills :\r\n            {createField(\"Professional skills\",\r\n                \"lookingForAJobDescription\",\r\n                [], Textarea, \"textarea\")}</p>\r\n        {error && <div className={s.formError}>{error}</div>}\r\n        <button className={s.btn}>save</button>\r\n    </form>\r\n}\r\n\r\nlet ProfileDataReduxForm = reduxForm({form:'edit-profile'})(ProfileDataForm)\r\n\r\nexport default ProfileDataReduxForm","import React, {useState} from \"react\";\r\nimport s from './userProfile.module.css'\r\nimport avatar from \"../../../../assets/images/user.png\"\r\nimport Preloader from \"../../../common/preloader/preloader\";\r\nimport ProfileStatusWithHooks from \"./profileStatusWithHooks\";\r\nimport ProfileDataReduxForm from \"./profileDataForm\";\r\n\r\n\r\nconst UserProfile = ({profile, savePhoto, isOwner, status, updateStatus, saveProfile}) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n\r\n    const onMainPhotoSelected = (e) => {\r\n        if (e.target.files.length) {\r\n            savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n\r\n    const onSubmit = (formData) => {\r\n        saveProfile(formData).then(\r\n            ()=>{\r\n                setEditMode(false)\r\n            }\r\n        )\r\n    }\r\n\r\n    if (!profile) {\r\n        return (\r\n            <Preloader/>\r\n        )\r\n    } else {\r\n        return (\r\n            <>\r\n                <div className={s.profile}>\r\n                    <img src={profile.photos.large || avatar} alt=\"avatar\"\r\n                         className={s.avatar}/>\r\n                    <div className={s.profileDescription}>\r\n                        <h2 className={s.userName}>{profile.fullName}</h2>\r\n                        <ProfileStatusWithHooks isOwner={isOwner} status={status}\r\n                                                updateStatus={updateStatus}/>\r\n                        {editMode\r\n                            ? <ProfileDataReduxForm  initialValues={profile} profile={profile} onSubmit={onSubmit}/>\r\n                            : <ProfileData goToEditMode={()=>{setEditMode(true)}} profile={profile} isOwner={isOwner}/>}\r\n                    </div>\r\n                </div>\r\n                {isOwner && editMode &&\r\n                <div>\r\n                    <p className={s.changePhotoDescription}>Change your profile photo</p>\r\n                    <input type={\"file\"} onChange={onMainPhotoSelected}/>\r\n                </div>}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nconst Contact = ({contactTitle, contactValue}) => {\r\n    return (\r\n        <a className={s.socials} href={contactValue}>{contactTitle}</a>\r\n    )\r\n}\r\n\r\nconst ProfileData = ({profile, isOwner, goToEditMode}) => {\r\n    return <>\r\n        <p>AboutMe: {profile.aboutMe === null ? null : profile.aboutMe}</p>\r\n        <p>Contacts:</p>\r\n        <div className={s.socialsWrapper}>\r\n            {/* eslint-disable-next-line array-callback-return */}\r\n            {Object.keys(profile.contacts).map(key => {\r\n                if (profile.contacts[key] !== null && profile.contacts[key] !== '')\r\n                return <Contact key={key} contactTitle={key}\r\n                                    contactValue={profile.contacts[key]}/>\r\n            })}\r\n        </div>\r\n        <p>Looking for a Job: {profile.lookingForAJob ? \"Yes\" : 'No'}</p>\r\n        {profile.lookingForAJob &&\r\n        <p>My professional skills : {profile.lookingForAJobDescription}</p>}\r\n        {isOwner && <button className={s.btn} onClick={goToEditMode}>Edit profile</button>}\r\n    </>\r\n}\r\n\r\nexport default UserProfile;","import React from \"react\";\r\nimport Wallpaper from \"./wallpapers/wallpaper.jsx\";\r\nimport UserProfile from \"./userProfiles/userProfile.jsx\";\r\n\r\n\r\nconst Wall = (props) => {\r\n    return (\r\n        <div>\r\n            <Wallpaper />\r\n            <UserProfile savePhoto={props.savePhoto}\r\n                         saveProfile={props.saveProfile}\r\n                         isOwner={props.isOwner}\r\n                         profile={props.profile}\r\n                         status={props.status}\r\n                         updateStatus={props.updateStatus}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Wall;","import React from \"react\";\r\nimport s from './post.module.css'\r\nimport avaPost from \"../../../../assets/images/user.png\"\r\n\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={s.post}>\r\n            <img src={props.profile===null?\"\":props.profile.photos.small===null?avaPost:props.profile.photos.small} alt=\"avaPost\"/>\r\n            <div className={s.postTxt}>\r\n                <p className={s.postUserName}>{props.profile===null?props.user:props.profile.fullName}</p>\r\n                <p>{props.message}</p>\r\n                <span className={s.likes}>{props.like} likes</span>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Post;","import {ProfileAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'profile/ADD-POST';\r\nconst SET_USER_PAGE = 'profile/SET-USER-PAGE';\r\nconst SET_STATUS = 'profile/SET-STATUS';\r\nconst DELETE_POST = 'profile/DELETE-POST'\r\nconst SAVE_PHOTO_SUCCESS = 'profile/SAVE-PHOTO-SUCCESS'\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {\r\n            id: 1,\r\n            user: 'Strelnykov Roman',\r\n            message: 'You can vizit my profile: https://liteobsidian.github.io/first/#/profile/11682',\r\n            like: 15\r\n        },\r\n        {\r\n            id: 2,\r\n            user: 'Strelnykov Roman',\r\n            message: 'You can try to use posts textarea and send text on state',\r\n            like: 15\r\n        },\r\n        {id: 3, user: 'Strelnykov Roman', message: 'It\\'s fake posts', like: 23}\r\n    ],\r\n    text: \"\",\r\n    profile: null,\r\n    status: null\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, {id: 5, user: 'Strelnykov Roman', message: action.newPostText, like: 0}],\r\n                text: ''\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id !== action.postId)\r\n            }\r\n        case SET_USER_PAGE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n//ACTION CREATORS\r\n\r\nexport const addPostActionCreator = (newPostText) => {\r\n    return {\r\n        type: ADD_POST,\r\n        newPostText\r\n    }\r\n};\r\nexport const deletePost = (postId) => {\r\n    return {\r\n        type: DELETE_POST,\r\n        postId\r\n    }\r\n};\r\n\r\nexport const setUserProfile = (profile) => {\r\n    return {\r\n        type: SET_USER_PAGE,\r\n        profile\r\n    }\r\n};\r\n\r\nexport const setStatus = (status) => {\r\n    return {\r\n        type: SET_STATUS,\r\n        status\r\n    }\r\n};\r\n\r\nexport const savePhotoSuccess = (photos) => {\r\n    return {\r\n        type: SAVE_PHOTO_SUCCESS,\r\n        photos\r\n    }\r\n};\r\n\r\n//THUNKS\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await ProfileAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response))\r\n};\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await ProfileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data))\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    try {\r\n        let response = await ProfileAPI.updateStatus(status);\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setStatus(status))\r\n        }\r\n    } catch (error) {\r\n        //dispatch error and show dialog window\r\n    }\r\n};\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await ProfileAPI.savePhoto(file);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n    }\r\n}\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    let response = await ProfileAPI.saveProfile(profile);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfile(userId));\r\n    } else {\r\n        dispatch(stopSubmit(\"edit-profile\", {_error: response.data.messages[0]})) //error to redux-form\r\n        return Promise.reject(response.data.messages[0]);\r\n    }\r\n}\r\n\r\nexport default profileReducer;","import React from \"react\";\r\nimport s from './createPost.module.css';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../../utils/validators\";\r\nimport {Textarea} from \"../../../common/formControls/formsControls\";\r\n\r\n\r\nconst maxLength30 = maxLengthCreator(30);\r\nconst CreatePost = (props) => {\r\n    let addNewPost= (values) => {\r\n        props.addPost(values.newPostText);\r\n    };\r\n\r\n    return (\r\n        <PostFormRedux onSubmit={addNewPost}/>\r\n    );\r\n}\r\n\r\nconst PostForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={s.postForm}>\r\n            <Field className={s.postInput} component={Textarea} name={\"newPostText\"} placeholder={\"your news...\"} validate={[required, maxLength30]}/>\r\n            <Field className={s.postsBtn} component={\"button\"} name={\"sendPost\"}>Submit</Field>\r\n        </form>\r\n    );\r\n}\r\nconst PostFormRedux = reduxForm({form:\"postForm\"})(PostForm);\r\n\r\nexport default CreatePost;","import {addPostActionCreator} from \"../../../../redux/profileReducer\";\r\nimport CreatePost from \"./createPost.jsx\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        newPostText: state.profilePage.text\r\n    }\r\n};\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPostText)=>{\r\n            let action = addPostActionCreator(newPostText);\r\n            dispatch(action);\r\n        }\r\n    }\r\n};\r\nconst CreatePostContainer = connect(mapStateToProps,mapDispatchToProps)(CreatePost);\r\n\r\nexport default CreatePostContainer;","import React from \"react\";\r\nimport s from './myPosts.module.css';\r\nimport Post from \"./Posts/post.jsx\";\r\nimport CreatePostContainer from \"./CreatePost/createPostContainer.jsx\";\r\n\r\nconst MyPosts = React.memo(props => {\r\n    let postsData = props.posts.map(\r\n        (el) => <Post key={el.id} user={el.user} message={el.message} like={el.like} profile={props.profile}/>)\r\n    return (\r\n        <div>\r\n            <div className={s.createPost}>\r\n                <h3>My posts</h3>\r\n                <CreatePostContainer/>\r\n            </div>\r\n            <div className={s.posts}>\r\n                {postsData}\r\n            </div>\r\n        </div>\r\n    );\r\n})\r\n\r\nexport default MyPosts;","import MyPosts from \"./myPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        profile: state.profilePage.profile\r\n    }\r\n};\r\nconst MyPostsContainer = connect(mapStateToProps)(MyPosts );\r\n\r\nexport default MyPostsContainer;","import React from \"react\";\r\nimport s from './profile.module.css'\r\nimport Wall from \"./ProfileWall/wall.jsx\";\r\nimport MyPostsContainer from \"./MyPosts/myPostsContainer.jsx\";\r\n\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n        <div className={s.content}>\r\n            <Wall saveProfile={props.saveProfile}\r\n                savePhoto={props.savePhoto}\r\n                  isOwner={props.isOwner}\r\n                  profile={props.profile}\r\n                  status={props.status}\r\n                  updateStatus={props.updateStatus}/>\r\n            <MyPostsContainer/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport Profile from \"./profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUserProfile, savePhoto, saveProfile, updateStatus} from \"../../redux/profileReducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    refreshProfile() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId;\r\n            if (!userId) {\r\n                this.props.history.push(\"/login\")\r\n            }\r\n        }\r\n        this.props.getUserProfile(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n            this.refreshProfile()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return <Profile {...this.props}\r\n                        savePhoto={this.props.savePhoto}\r\n                        saveProfile={this.props.saveProfile}\r\n                        isOwner={!this.props.match.params.userId}\r\n                        profile={this.props.profile}\r\n                        status={this.props.status}\r\n                        updateStatus={this.props.updateStatus}\r\n        />\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus, savePhoto, saveProfile}),\r\n    withRouter,\r\n    // withAuthRedirect,\r\n)(ProfileContainer)\r\n","import React from \"react\";\r\nimport s from \"./header.module.css\"\r\nimport logo from \"../../assets/images/gas.png\"\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <div className={s.container}>\r\n                <div className={s.logoWrapper}>\r\n                    <img className={s.logo} src={logo} alt=\"logo\"/>\r\n                    <h2>Social Network</h2>\r\n                </div>\r\n                <div className={s.loginBlock}>\r\n                    {props.isAuth\r\n                        ? <div>{props.login} - <p className={s.logout} onClick={props.logout}>Log Out</p></div>\r\n                        : <NavLink to={'/login'}>Login</NavLink>}\r\n                </div>\r\n            </div>\r\n        </header>);\r\n}\r\n\r\nexport default Header;","import {AuthAPI, SecurityAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'auth/SET-USER-DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'auth/GET-CAPTCHA-URL-SUCCESS'\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaUrl: null, // if null, then captcha is not required\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n//ACTION CREATORS\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId, email, login, isAuth}\r\n});\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\r\n    type: GET_CAPTCHA_URL_SUCCESS,\r\n    payload: {captchaUrl}\r\n});\r\n\r\n//THUNKS\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await AuthAPI.me();\r\n    if (response.resultCode === 0) {\r\n        let {id, email, login} = response.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n};\r\n\r\nexport const logIn = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let response = await AuthAPI.logIn(email, password, rememberMe, captcha);\r\n    if (response.resultCode === 0) {\r\n        //success, get auth data\r\n        dispatch(getAuthUserData());\r\n    }\r\n    else {\r\n        if (response.resultCode === 10) {\r\n            //captcha\r\n            dispatch(getCaptchaUrl())\r\n        }\r\n        let message = response.messages.length > 0 ? response.messages[0] : \"Some error\";\r\n        dispatch(stopSubmit(\"login\", {_error: message}))\r\n    }\r\n};\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    const response = await SecurityAPI.getCaptchaUrl();\r\n    const captchaUrl = response.data.url;\r\n        dispatch(getCaptchaUrlSuccess(captchaUrl))\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await AuthAPI.logOut();\r\n    if (response.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\n\r\n\r\nexport default authReducer;","import React from \"react\";\r\nimport Header from \"./header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/authReducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n})\r\n\r\nexport default connect(mapStateToProps,{logout})(HeaderContainer);","import React from \"react\";\r\nimport s from './login.module.css'\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../common/formControls/formsControls\";\r\nimport {required} from \"../../utils/validators\";\r\nimport {logIn} from \"../../redux/authReducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField(\"E-mail\", \"email\", [required], Input, \"text\")}\r\n            {createField(\"password\", \"password\", [required], Input, \"password\")}\r\n            {captchaUrl && <img src={captchaUrl} alt=\"captcha\"/>}\r\n            {captchaUrl &&\r\n            createField(\"Enter symbols\", \"captcha\", [required], Input, \"text\")}\r\n            <div>\r\n                <Field type={\"checkbox\"} name={\"rememberMe\"} component={\"input\"}/> Remember me\r\n            </div>\r\n            {error && <div className={s.formError}>{error}</div>}\r\n            <div>\r\n                <Field className={s.loginBtn} type={\"submit\"} component={\"button\"}>Login</Field>\r\n            </div>\r\n        </form>\r\n    );\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.logIn(formData.email, formData.password, formData.rememberMe, formData.captcha);\r\n    };\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"}/>\r\n    } else {\r\n        return (\r\n            <div>\r\n                <h1 className={s.loginHeading}>Login</h1>\r\n                <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    captchaUrl: state.auth.captchaUrl\r\n})\r\n\r\nexport default connect(mapStateToProps, {logIn})(Login);","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst News = (props) => {\r\n    if (!props.isAuth) return <Redirect to={'/login'}/>\r\n    return (\r\n        <div>news</div>\r\n    );\r\n}\r\n\r\nexport default News;","import {connect} from \"react-redux\";\r\nimport News from \"./news\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nconst NewsContainer = compose(\r\n    connect(),\r\n    withAuthRedirect\r\n)(News)\r\n\r\nexport default NewsContainer;","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst Music = (props) => {\r\n    if (!props.isAuth) return <Redirect to={'/login'}/>\r\n    return (\r\n        <div>music</div>\r\n    );\r\n}\r\n\r\nexport default Music;","import {connect} from \"react-redux\";\r\nimport Music from \"./music\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\n\r\nconst MusicContainer = compose(\r\n    connect(),\r\n    withAuthRedirect,\r\n)(Music)\r\n\r\nexport default MusicContainer;","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst Settings = (props) => {\r\n    if (!props.isAuth) return <Redirect to={'/login'}/>\r\n    return (\r\n        <div>settings</div>\r\n    );\r\n}\r\n\r\nexport default Settings;","import {connect} from \"react-redux\";\r\nimport Settings from \"./settings\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nconst SettingsContainer = compose(\r\n    connect(),\r\n    withAuthRedirect\r\n)(Settings);\r\n\r\nexport default SettingsContainer;","import {getAuthUserData} from \"./authReducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'app/INITIALIZED-SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n//ACTION CREATORS\r\n\r\nexport const InitializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\n//THUNKS\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n        .then(()=>{\r\n        dispatch(InitializedSuccess())\r\n    })\r\n}\r\n\r\nexport default appReducer;","let initialState = {\r\n    sidebar: {}\r\n}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n    return state;\r\n};\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport sidebarReducer from \"./sidebarReducer\";\r\nimport messagesReducer from \"./messagesReducer\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from \"redux-form\"\r\nimport appReducer from \"./appReducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage:profileReducer,\r\n    messagesPage:messagesReducer,\r\n    usersPage:usersReducer,\r\n    sidebar:sidebarReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n});\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)))\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\nwindow.store = store;\r\nexport default store;","import React from \"react\";\r\nimport Preloader from \"../components/common/preloader/preloader\";\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n       return <React.Suspense fallback={<Preloader/>}>\r\n            <Component {...props}/>\r\n        </React.Suspense>\r\n    };\r\n}\r\n\r\n","import React from 'react';\r\nimport './App.css';\r\nimport Sidebar from \"./components/sidebar/sidebar.jsx\";\r\nimport {HashRouter, Route, Switch} from \"react-router-dom\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport ProfileContainer from \"./components/profile/profileContainer\";\r\nimport HeaderContainer from \"./components/header/headerContainer\";\r\nimport Login from \"./components/login/login\";\r\nimport NewsContainer from \"./components/news/newsContainer\";\r\nimport MusicContainer from \"./components/music/musicContainer\";\r\nimport SettingsContainer from \"./components/settings/settingsContainer\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport Preloader from \"./components/common/preloader/preloader\";\r\nimport {initializeApp} from \"./redux/appReducer\";\r\nimport store from \"./redux/reduxStore\";\r\nimport {withSuspense} from \"./hoc/withSuspense\";\r\n\r\nlet MessagesContainer = React.lazy(() => import (`./components/messages/messagesContainer`));\r\nlet UsersContainer = React.lazy(() => import (`./components/users/usersContainer.jsx`));\r\n\r\nclass App extends React.Component {\r\n    catchAllUnhandledErrors = (promiseRejectionEvent) => {\r\n        alert(\"Some error occured\");\r\n        console.error(promiseRejectionEvent)\r\n    }\r\n    componentDidMount() {\r\n        this.props.initializeApp()\r\n        window.addEventListener(\"unhandledrejection\", function (promiseRejectionEvent){\r\n        })\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener(\"unhandledrejection\", function (promiseRejectionEvent){\r\n        })\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n        return (\r\n            <div className=\"AppWrapper\">\r\n                <HeaderContainer/>\r\n                <div className=\"contentContainer\">\r\n                    <Sidebar/>\r\n                    <Switch>\r\n                        <Route path=\"/profile/:userId?\" render={() => <ProfileContainer/>}/>\r\n                        <Route path=\"/message\" render={withSuspense(MessagesContainer)}/>\r\n                        <Route path=\"/users\" render={withSuspense(UsersContainer)}/>\r\n                        <Route path=\"/news\" render={() => <NewsContainer/>}/>\r\n                        <Route path=\"/music\" render={() => <MusicContainer/>}/>\r\n                        <Route path=\"/settings\" render={() => <SettingsContainer/>}/>\r\n                        <Route path=\"/login\" render={() => <Login/>}/>\r\n                        <Route path=\"/\" render={() => <ProfileContainer/>}/>\r\n                        <Route path=\"/*\" render={()=><h1>404 NOT FOUND</h1>}/>\r\n                    </Switch>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\nlet AppContainer = compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeApp})\r\n)(App);\r\n\r\nlet AppWithRouter = () => {\r\n    return (\r\n        <HashRouter>\r\n            <Provider store={store}>\r\n                <AppContainer/>\r\n            </Provider>\r\n        </HashRouter>\r\n    )\r\n}\r\n\r\nexport default AppWithRouter\r\n","import * as serviceWorker from './serviceWorker'\r\nimport './index.css';\r\nimport React from \"react\";\r\nimport ReactDOM from 'react-dom';\r\nimport AppWithRouter from \"./App\";\r\n\r\n    ReactDOM.render(\r\n        <AppWithRouter/>\r\n        , document.getElementById('root'));\r\n\r\nserviceWorker.unregister();","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"sidebar_sidebar__2XZNk\",\"active\":\"sidebar_active__3BJxs\"};","export const required = value => {\r\n    if (value) return undefined;\r\n    return \"Field is required\";\r\n};\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"header_container__2PM4k\",\"header\":\"header_header__WcNf1\",\"logoWrapper\":\"header_logoWrapper__2mAVX\",\"logo\":\"header_logo__2tvrJ\",\"logout\":\"header_logout__6nlQm\"};","import React from \"react\";\r\nimport s from './preloader.module.css';\r\nimport preloader from \"../../../assets/images/load.png\";\r\n\r\nconst Preloader = () => {\r\n    return <img className={s.preloader} src={preloader} alt=\"page is load\"/>\r\n}\r\n\r\nexport default Preloader","import {Redirect} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render () {\r\n            if (!this.props.isAuth) return <Redirect to={'/login'}/>\r\n            return <Component {...this.props} />\r\n        }\r\n    };\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n    return ConnectedAuthRedirectComponent;\r\n}\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"formsControls_formControl__alq9U\",\"error\":\"formsControls_error__F5ysL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"post_post__2nDHj\",\"postTxt\":\"post_postTxt__1IUdh\",\"postUserName\":\"post_postUserName__3Bm5P\",\"likes\":\"post_likes__rSFrm\"};","module.exports = __webpack_public_path__ + \"static/media/user.d380cc81.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postForm\":\"createPost_postForm__CjxWP\",\"postInput\":\"createPost_postInput__31RwY\",\"postsBtn\":\"createPost_postsBtn__1NhNX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginHeading\":\"login_loginHeading__2QO6e\",\"loginBtn\":\"login_loginBtn__o0BkW\",\"formError\":\"login_formError__3G2Uw\"};"],"sourceRoot":""}