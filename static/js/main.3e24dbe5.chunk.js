(this.webpackJsonpfirst=this.webpackJsonpfirst||[]).push([[0],{100:function(e,t,n){e.exports={createPost:"myPosts_createPost__1kwPe",posts:"myPosts_posts__3nkyh"}},131:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(39),r=n(4),o={messages:[{userId:1,name:"Andrew",message:"Hellow! How are you?"},{userId:4,name:"Roman",message:"Hi! I'm fine!"}],dialogs:[{name:"Andrey",userId:"001"},{name:"Dmitry",userId:"002"},{name:"Semion",userId:"003"}]},s=function(e){return{type:"messages/SEND-MESSAGE",newMessageBody:e}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"messages/SEND-MESSAGE":return Object(r.a)(Object(r.a)({},e),{},{messages:[].concat(Object(a.a)(e.messages),[{userId:4,name:"Roman",message:t.newMessageBody}])});default:return e}}},134:function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return O})),n.d(t,"d",(function(){return v}));var a=n(10),r=n.n(a),o=n(16),s=n(39),c=n(4),u=n(14),i=function(e,t,n,a){return e.map((function(e){return e[n]===t?Object(c.a)(Object(c.a)({},e),a):e}))},l="users/FOLLOW",p={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},f=function(e){return{type:l,userId:e}},m=function(e){return{type:"users/UNFOLLOW",userId:e}},d=function(e){return{type:"users/SET-CURRENT-PAGE",currentPage:e}},E=function(e){return{type:"users/TOGGLE-IS-FETCHING",isFetching:e}},b=function(e,t){return{type:"users/TOGGLE-IS-FOLLOWING-PROGRESS",isFetching:e,userId:t}},g=function(e,t){return function(){var n=Object(o.a)(r.a.mark((function n(a){var o;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(E(!0)),a(d(e)),n.next=4,u.c.getUsers(e,t);case 4:o=n.sent,a(E(!1)),a({type:"users/SET-USERS",users:o.items}),a({type:"users/SET-TOTAL-USERS-COUNT",count:o.totalCount});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},h=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a,o){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(b(!0,n)),e.next=3,a(n);case 3:0===e.sent.resultCode&&t(o(n)),t(b(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),O=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h(n,e,u.c.toFollow.bind(u.c),f);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h(n,e,u.c.toUnfollow.bind(u.c),m);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(c.a)(Object(c.a)({},e),{},{users:i(e.users,t.userId,"id",{followed:!0})});case"users/UNFOLLOW":return Object(c.a)(Object(c.a)({},e),{},{users:i(e.users,t.userId,"id",{followed:!1})});case"users/SET-USERS":return Object(c.a)(Object(c.a)({},e),{},{users:t.users});case"users/SET-CURRENT-PAGE":return Object(c.a)(Object(c.a)({},e),{},{currentPage:t.currentPage});case"users/SET-TOTAL-USERS-COUNT":return Object(c.a)(Object(c.a)({},e),{},{totalUsersCount:t.count});case"users/TOGGLE-IS-FETCHING":return Object(c.a)(Object(c.a)({},e),{},{isFetching:t.isFetching});case"users/TOGGLE-IS-FOLLOWING-PROGRESS":return Object(c.a)(Object(c.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(s.a)(e.followingInProgress),[t.userId]):Object(s.a)(e.followingInProgress.filter((function(e){return e!==t.userId})))});default:return e}}},135:function(e,t,n){e.exports={content:"profile_content__2ogWM"}},136:function(e,t,n){e.exports={wallpaper:"wallpaper_wallpaper__2E8nP"}},137:function(e,t,n){e.exports=n.p+"static/media/wall.ced290a6.jpg"},138:function(e,t,n){e.exports={preloader:"preloader_preloader__1ga4M",spin:"preloader_spin__3QyLZ"}},139:function(e,t,n){e.exports=n.p+"static/media/load.9708d09f.png"},14:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var a=n(142),r=a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"f69e98fb-1ca8-4eca-b897-329babadd5a0"}}),o={getUsers:function(e,t){return r.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},toFollow:function(e){return r.post("follow/".concat(e),{}).then((function(e){return e.data}))},toUnfollow:function(e){return r.delete("follow/".concat(e)).then((function(e){return e.data}))}},s={getProfile:function(e){return r.get("profile/".concat(e)).then((function(e){return e.data}))},getStatus:function(e){return r.get("profile/status/".concat(e))},updateStatus:function(e){return r.put("profile/status",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),r.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})}},c={me:function(){return r.get("auth/me").then((function(e){return e.data}))},logIn:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},logOut:function(){return r.delete("auth/login").then((function(e){return e.data}))}}},143:function(e,t){e.exports="data:image/png;base64,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"},170:function(e,t,n){e.exports=n(296)},171:function(e,t,n){},176:function(e,t,n){},20:function(e,t,n){e.exports={avatar:"userProfile_avatar__2QkVg",profile:"userProfile_profile__CrDg_",userName:"userProfile_userName__3AA81",profileDescription:"userProfile_profileDescription__2AVmy",socialsWrapper:"userProfile_socialsWrapper__1qIQT",socials:"userProfile_socials__3K4Zh",changePhotoDescription:"userProfile_changePhotoDescription__2pv4p",btn:"userProfile_btn__2Vp-V"}},25:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return p}));var a=n(94),r=n(0),o=n.n(r),s=n(59),c=n.n(s),u=n(93),i=function(e){var t=e.input,n=e.meta,r=Object(a.a)(e,["input","meta"]),s=n.touched&&n.error;return o.a.createElement("div",{className:c.a.formControl+" "+(s?c.a.error:"")},o.a.createElement("textarea",Object.assign({},t,r)),s&&o.a.createElement("span",null,n.error))},l=function(e){var t=e.input,n=e.meta,r=Object(a.a)(e,["input","meta"]),s=n.touched&&n.error;return o.a.createElement("div",{className:c.a.formControl+" "+(s?c.a.error:"")},o.a.createElement("input",Object.assign({},t,r)),s&&o.a.createElement("span",null,n.error))},p=function(e,t,n,a,r,s){return o.a.createElement(u.a,Object.assign({placeholder:e,name:t,validate:n,component:a,type:r},s))}},296:function(e,t,n){"use strict";n.r(t);n(171);var a=n(0),r=n.n(a),o=n(69),s=n.n(o),c=n(29),u=n(30),i=n(32),l=n(31),p=(n(176),n(35)),f=n.n(p),m=n(12),d=function(){return r.a.createElement("div",{className:f.a.sidebar},r.a.createElement("nav",null,r.a.createElement(m.b,{activeClassName:f.a.active,to:"/profile"},"Profile"),r.a.createElement(m.b,{activeClassName:f.a.active,to:"/message"},"Messages"),r.a.createElement(m.b,{activeClassName:f.a.active,to:"/users"},"Find users"),r.a.createElement(m.b,{activeClassName:f.a.active,to:"/news"},"News"),r.a.createElement(m.b,{activeClassName:f.a.active,to:"/music"},"Music"),r.a.createElement(m.b,{activeClassName:f.a.active,to:"/settings"},"Settings")))},E=n(11),b=n(135),g=n.n(b),h=n(136),O=n.n(h),v=n(137),A=n.n(v),j=function(){return r.a.createElement("div",{className:O.a.wallpaper},r.a.createElement("img",{src:A.a,alt:"wall"}))},w=n(54),S=n(20),P=n.n(S),y=n(70),k=n.n(y),I=n(43),N=function(e){var t=Object(a.useState)(!1),n=Object(w.a)(t,2),o=n[0],s=n[1],c=Object(a.useState)(e.status),u=Object(w.a)(c,2),i=u[0],l=u[1];Object(a.useEffect)((function(){l(e.status)}),[e.status]);return r.a.createElement(r.a.Fragment,null,!o&&r.a.createElement("div",null,r.a.createElement("span",{onDoubleClick:function(){e.isOwner&&s(!0)}},e.status||"--no_status--")),o&&e.isOwner&&r.a.createElement("input",{onChange:function(e){l(e.currentTarget.value)},autoFocus:!0,onBlur:function(){s(!1),e.updateStatus(i)},value:i}))},C=n(25),_=n(132),x=Object(_.a)({form:"edit-profile"})((function(e){var t=e.profile;return r.a.createElement("form",null,r.a.createElement("p",null,"AboutMe: ",Object(C.c)("Full name","fullName",[],C.a,"text")),r.a.createElement("p",null,"Contacts:"),r.a.createElement("div",{className:P.a.socialsWrapper}),r.a.createElement("p",null,"Looking for a Job: ",t.lookingForAJob?"Yes":"No"),t.lookingForAJob&&r.a.createElement("p",null,"My professional skills : ",t.lookingForAJobDescription),r.a.createElement("button",{className:P.a.btn,onClick:function(){}},"save"))})),T=function(e){var t=e.contactTitle,n=e.contactValue;return r.a.createElement("a",{className:P.a.socials,href:n},t)},U=function(e){var t=e.profile,n=e.isOwner,a=e.goToEditMode;return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"AboutMe: ",null===t.aboutMe?null:t.aboutMe),r.a.createElement("p",null,"Contacts:"),r.a.createElement("div",{className:P.a.socialsWrapper},Object.keys(t.contacts).map((function(e){if(null!==t.contacts[e])return r.a.createElement(T,{key:e,contactTitle:e,contactValue:t.contacts[e]})}))),r.a.createElement("p",null,"Looking for a Job: ",t.lookingForAJob?"Yes":"No"),t.lookingForAJob&&r.a.createElement("p",null,"My professional skills : ",t.lookingForAJobDescription),n&&r.a.createElement("button",{className:P.a.btn,onClick:a},"Edit profile"))},F=function(e){var t=e.profile,n=e.savePhoto,o=e.isOwner,s=e.status,c=e.updateStatus,u=Object(a.useState)(!1),i=Object(w.a)(u,2),l=i[0],p=i[1];return t?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:P.a.profile},r.a.createElement("img",{src:t.photos.large||k.a,alt:"avatar",className:P.a.avatar}),r.a.createElement("div",{className:P.a.profileDescription},r.a.createElement("h2",{className:P.a.userName},t.fullName),r.a.createElement(N,{isOwner:o,status:s,updateStatus:c}),l?r.a.createElement(x,{profile:t}):r.a.createElement(U,{goToEditMode:function(){p(!0)},profile:t,isOwner:o}))),o&&r.a.createElement("div",null,r.a.createElement("p",{className:P.a.changePhotoDescription},"Change your profile photo"),r.a.createElement("input",{type:"file",onChange:function(e){e.target.files.length&&n(e.target.files[0])}}))):r.a.createElement(I.a,null)},R=function(e){return r.a.createElement("div",null,r.a.createElement(j,null),r.a.createElement(F,{savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus}))},M=n(100),D=n.n(M),z=n(60),G=n.n(z),L=function(e){return r.a.createElement("div",{className:G.a.post},r.a.createElement("img",{src:null===e.profile?"":null===e.profile.photos.small?k.a:e.profile.photos.small,alt:"avaPost"}),r.a.createElement("div",{className:G.a.postTxt},r.a.createElement("p",{className:G.a.postUserName},null===e.profile?e.user:e.profile.fullName),r.a.createElement("p",null,e.message),r.a.createElement("span",{className:G.a.likes},e.like," likes")))},B=n(10),H=n.n(B),J=n(16),Y=n(39),W=n(4),V=n(14),q="profile/ADD-POST",K={posts:[{id:1,user:"Strelnykov Roman",message:"Hello World! I can use props!",like:15},{id:2,user:"Strelnykov Roman",message:"It's my first post in this wall",like:23}],text:"",profile:null,status:null},Q=function(e){return{type:"profile/SET-STATUS",status:e}},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(W.a)(Object(W.a)({},e),{},{posts:[].concat(Object(Y.a)(e.posts),[{id:5,user:"Strelnykov Roman",message:t.newPostText,like:0}]),text:""});case"profile/DELETE-POST":return Object(W.a)(Object(W.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case"profile/SET-USER-PAGE":return Object(W.a)(Object(W.a)({},e),{},{profile:t.profile});case"profile/SET-STATUS":return Object(W.a)(Object(W.a)({},e),{},{status:t.status});case"profile/SAVE-PHOTO-SUCCESS":return Object(W.a)(Object(W.a)({},e),{},{profile:Object(W.a)(Object(W.a)({},e.profile),{},{photos:t.photos})});default:return e}},Z=n(75),$=n.n(Z),ee=n(93),te=n(48),ne=Object(te.a)(30),ae=Object(_.a)({form:"postForm"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,className:$.a.postForm},r.a.createElement(ee.a,{className:$.a.postInput,component:C.b,name:"newPostText",placeholder:"your news...",validate:[te.b,ne]}),r.a.createElement(ee.a,{className:$.a.postsBtn,component:"button",name:"sendPost"},"Submit"))})),re=function(e){return r.a.createElement(ae,{onSubmit:function(t){e.addPost(t.newPostText)}})},oe=n(9),se=Object(oe.b)((function(e){return{newPostText:e.profilePage.text}}),(function(e){return{addPost:function(t){var n=function(e){return{type:q,newPostText:e}}(t);e(n)}}}))(re),ce=r.a.memo((function(e){console.log("render");var t=e.posts.map((function(t){return r.a.createElement(L,{key:t.id,user:t.user,message:t.message,like:t.like,profile:e.profile})}));return r.a.createElement("div",null,r.a.createElement("div",{className:D.a.createPost},r.a.createElement("h3",null,"My posts"),r.a.createElement(se,null)),r.a.createElement("div",{className:D.a.posts},t))})),ue=Object(oe.b)((function(e){return{posts:e.profilePage.posts,profile:e.profilePage.profile}}))(ce),ie=function(e){return r.a.createElement("div",{className:g.a.content},r.a.createElement(R,{savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus}),r.a.createElement(ue,null))},le=n(6),pe=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return r.a.createElement(ie,Object.assign({},this.props,{savePhoto:this.props.savePhoto,isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),n}(r.a.Component),fe=Object(le.d)(Object(oe.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:function(e){return function(){var t=Object(J.a)(H.a.mark((function t(n){var a;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V.b.getProfile(e);case 2:a=t.sent,n({type:"profile/SET-USER-PAGE",profile:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(J.a)(H.a.mark((function t(n){var a;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V.b.getStatus(e);case 2:a=t.sent,n(Q(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(J.a)(H.a.mark((function t(n){return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V.b.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(Q(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(J.a)(H.a.mark((function t(n){var a;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V.b.savePhoto(e);case 2:0===(a=t.sent).data.resultCode&&n({type:"profile/SAVE-PHOTO-SUCCESS",photos:a.data.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),E.f)(pe),me=n(40),de=n.n(me),Ee=n(143),be=n.n(Ee),ge=function(e){return r.a.createElement("header",{className:de.a.header},r.a.createElement("div",{className:de.a.container},r.a.createElement("div",{className:de.a.logoWrapper},r.a.createElement("img",{className:de.a.logo,src:be.a,alt:"logo"}),r.a.createElement("h2",null,"Social Network")),r.a.createElement("div",{className:de.a.loginBlock},e.isAuth?r.a.createElement("div",null,e.login," - ",r.a.createElement("p",{className:de.a.logout,onClick:e.logout},"Log Out")):r.a.createElement(m.b,{to:"/login"},"Login"))))},he=n(28),Oe={userId:null,email:null,login:null,isAuth:!1},ve=function(e,t,n,a){return{type:"auth/SET-USER-DATA",payload:{userId:e,email:t,login:n,isAuth:a}}},Ae=function(){return function(){var e=Object(J.a)(H.a.mark((function e(t){var n,a,r,o,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.a.me();case 2:0===(n=e.sent).resultCode&&(a=n.data,r=a.id,o=a.email,s=a.login,t(ve(r,o,s,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/SET-USER-DATA":return Object(W.a)(Object(W.a)({},e),t.payload);default:return e}},we=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement(ge,this.props)}}]),n}(r.a.Component),Se=Object(oe.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(J.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.a.logOut();case 2:0===e.sent.resultCode&&t(ve(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(we),Pe=n(76),ye=n.n(Pe),ke=Object(_.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return r.a.createElement("form",{onSubmit:t},Object(C.c)("E-mail","email",[te.b],C.a,"text"),Object(C.c)("password","password",[te.b],C.a,"password"),r.a.createElement("div",null,r.a.createElement(ee.a,{type:"checkbox",name:"rememberMe",component:"input"})," Remember me"),n&&r.a.createElement("div",{className:ye.a.formError},n),r.a.createElement("div",null,r.a.createElement(ee.a,{className:ye.a.loginBtn,type:"submit",component:"button"},"Login")))})),Ie=Object(oe.b)((function(e){return{isAuth:e.auth.isAuth}}),{logIn:function(e,t,n){return function(){var a=Object(J.a)(H.a.mark((function a(r){var o,s;return H.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,V.a.logIn(e,t,n);case 2:0===(o=a.sent).resultCode?r(Ae()):(s=o.messages.length>0?o.messages[0]:"Some error",r(Object(he.a)("login",{_error:s})));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){return e.isAuth?r.a.createElement(E.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("h1",{className:ye.a.loginHeading},"Login"),r.a.createElement(ke,{onSubmit:function(t){e.logIn(t.email,t.password,t.rememberMe)}}))})),Ne=function(e){return e.isAuth?r.a.createElement("div",null,"news"):r.a.createElement(E.a,{to:"/login"})},Ce=n(44),_e=Object(le.d)(Object(oe.b)(),Ce.a)(Ne),xe=function(e){return e.isAuth?r.a.createElement("div",null,"music"):r.a.createElement(E.a,{to:"/login"})},Te=Object(le.d)(Object(oe.b)(),Ce.a)(xe),Ue=function(e){return e.isAuth?r.a.createElement("div",null,"settings"):r.a.createElement(E.a,{to:"/login"})},Fe=Object(le.d)(Object(oe.b)(),Ce.a)(Ue),Re={initialized:!1},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app/INITIALIZED-SUCCESS":return Object(W.a)(Object(W.a)({},e),{},{initialized:!0});default:return e}},De={sidebar:{}},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De;return e},Ge=n(131),Le=n(134),Be=n(144),He=n(133),Je=Object(le.c)({profilePage:X,messagesPage:Ge.b,usersPage:Le.a,sidebar:ze,auth:je,form:He.a,app:Me}),Ye=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||le.d,We=Object(le.e)(Je,Ye(Object(le.a)(Be.a)));window.store=We;var Ve=We,qe=function(e){return function(t){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(I.a,null)},r.a.createElement(e,t))}},Ke=r.a.lazy((function(){return n.e(3).then(n.bind(null,303))})),Qe=r.a.lazy((function(){return n.e(4).then(n.bind(null,304))})),Xe=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement("div",{className:"AppWrapper"},r.a.createElement(Se,null),r.a.createElement("div",{className:"contentContainer"},r.a.createElement(d,null),r.a.createElement(E.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(fe,null)}}),r.a.createElement(E.b,{path:"/message",render:qe(Ke)}),r.a.createElement(E.b,{path:"/users",render:qe(Qe)}),r.a.createElement(E.b,{path:"/news",render:function(){return r.a.createElement(_e,null)}}),r.a.createElement(E.b,{path:"/music",render:function(){return r.a.createElement(Te,null)}}),r.a.createElement(E.b,{path:"/settings",render:function(){return r.a.createElement(Fe,null)}}),r.a.createElement(E.b,{path:"/login",render:function(){return r.a.createElement(Ie,null)}}))):r.a.createElement(I.a,null)}}]),n}(r.a.Component),Ze=Object(le.d)(E.f,Object(oe.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(Ae());Promise.all([t]).then((function(){e({type:"app/INITIALIZED-SUCCESS"})}))}}}))(Xe),$e=function(){return r.a.createElement(m.a,null,r.a.createElement(oe.a,{store:Ve},r.a.createElement(Ze,null)))};s.a.render(r.a.createElement($e,null),document.getElementById("root"))},35:function(e,t,n){e.exports={sidebar:"sidebar_sidebar__1VUPR",active:"sidebar_active__jIGIC"}},40:function(e,t,n){e.exports={container:"header_container__279eN",header:"header_header__23zMb",logoWrapper:"header_logoWrapper__1kqIp",logo:"header_logo__26bCK",logout:"header_logout__1uCY8"}},43:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(138),s=n.n(o),c=n(139),u=n.n(c);t.a=function(){return r.a.createElement("img",{className:s.a.preloader,src:u.a,alt:"page is load"})}},44:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(29),r=n(30),o=n(32),s=n(31),c=n(11),u=n(0),i=n.n(u),l=n(9),p=function(e){return{isAuth:e.auth.isAuth}},f=function(e){var t=function(t){Object(o.a)(u,t);var n=Object(s.a)(u);function u(){return Object(a.a)(this,u),n.apply(this,arguments)}return Object(r.a)(u,[{key:"render",value:function(){return this.props.isAuth?i.a.createElement(e,this.props):i.a.createElement(c.a,{to:"/login"})}}]),u}(i.a.Component);return Object(l.b)(p)(t)}},48:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){if(!e)return"Field is required"},r=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}}},59:function(e,t,n){e.exports={formControl:"formsControls_formControl__1-aIt",error:"formsControls_error__2WhHx"}},60:function(e,t,n){e.exports={post:"post_post__2W1_v",postTxt:"post_postTxt__2uByK",postUserName:"post_postUserName__3iU8E",likes:"post_likes__2Sq01"}},70:function(e,t,n){e.exports=n.p+"static/media/user.d380cc81.png"},75:function(e,t,n){e.exports={postForm:"createPost_postForm__i4ota",postInput:"createPost_postInput__1-xRQ",postsBtn:"createPost_postsBtn__lS-92"}},76:function(e,t,n){e.exports={loginHeading:"login_loginHeading__1ejQB",loginBtn:"login_loginBtn__1UA2k",formError:"login_formError__3SP6Q"}}},[[170,1,2]]]);
//# sourceMappingURL=main.3e24dbe5.chunk.js.map